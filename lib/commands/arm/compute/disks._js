/**
 * Copyright (c) Microsoft.  All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

// Warning: This code was generated by a tool.
// 
// Changes to this file may cause incorrect behavior and will be lost if the
// code is regenerated.

/*

Generated Command List:

azure managed-disk config disk set
--parameter-file $f
--parse
--account-type $accountType
--time-created $timeCreated
--os-type $osType
--creation-data $creationData
--disk-size-g-b $diskSizeGB
--encryption-settings $encryptionSettings
--owner-id $ownerId
--provisioning-state $provisioningState
--id $id
--name $name
--type $type
--location $location
--tags $tags

azure managed-disk config disk delete
--parameter-file $f
--account-type
--time-created
--os-type
--creation-data
--disk-size-g-b
--encryption-settings
--owner-id
--provisioning-state
--id
--name
--type
--location
--tags

azure managed-disk config creation-data set
--parameter-file $f
--parse
--create-option $createOption
--storage-account-id $storageAccountId
--image-reference $imageReference
--source-uri $sourceUri
--source-resource-id $sourceResourceId

azure managed-disk config creation-data delete
--parameter-file $f
--create-option
--storage-account-id
--image-reference
--source-uri
--source-resource-id

azure managed-disk config image-reference set
--parameter-file $f
--parse
--id $id
--lun $lun

azure managed-disk config image-reference delete
--parameter-file $f
--id
--lun

azure managed-disk config encryption-settings set
--parameter-file $f
--parse
--enabled $enabled
--disk-encryption-key $diskEncryptionKey
--key-encryption-key $keyEncryptionKey

azure managed-disk config encryption-settings delete
--parameter-file $f
--enabled
--disk-encryption-key
--key-encryption-key

azure managed-disk config disk-encryption-key set
--parameter-file $f
--parse
--source-vault $sourceVault
--secret-url $secretUrl

azure managed-disk config disk-encryption-key delete
--parameter-file $f
--source-vault
--secret-url

azure managed-disk config source-vault set
--parameter-file $f
--parse
--id $id

azure managed-disk config source-vault delete
--parameter-file $f
--id

azure managed-disk config key-encryption-key set
--parameter-file $f
--parse
--source-vault $sourceVault
--key-url $keyUrl

azure managed-disk config key-encryption-key delete
--parameter-file $f
--source-vault
--key-url

azure managed-disk config source-vault delete
--parameter-file $f

azure managed-disk create 
--resource-group $p0
--name $p1
--disk $p2
--parameter-file $f

azure managed-disk config generate 
--parameter-file $f

azure managed-disk config patch 
--parameter-file $f

azure managed-disk delete 
--resource-group $p0
--name $p1

azure managed-disk show 
--resource-group $p0
--name $p1

azure managed-disk grant-access-parameters grant-access-data set
--parameter-file $f
--parse
--access $access
--duration-in-seconds $durationInSeconds

azure managed-disk grant-access-parameters grant-access-data delete
--parameter-file $f
--access
--duration-in-seconds

azure managed-disk grant-access 
--resource-group $p0
--name $p1
--grant-access-data $p2
--parameter-file $f

azure managed-disk grant-access-parameters generate 
--parameter-file $f

azure managed-disk grant-access-parameters patch 
--parameter-file $f

azure managed-disk list 
--resource-group $p0

azure managed-disk revoke-access 
--resource-group $p0
--name $p1

azure managed-disk update-parameters disk-update set
--parameter-file $f
--parse
--account-type $accountType
--os-type $osType
--creation-data $creationData
--disk-size-g-b $diskSizeGB
--encryption-settings $encryptionSettings
--tags $tags

azure managed-disk update-parameters disk-update delete
--parameter-file $f
--account-type
--os-type
--creation-data
--disk-size-g-b
--encryption-settings
--tags

azure managed-disk update-parameters creation-data set
--parameter-file $f
--parse
--create-option $createOption
--storage-account-id $storageAccountId
--image-reference $imageReference
--source-uri $sourceUri
--source-resource-id $sourceResourceId

azure managed-disk update-parameters creation-data delete
--parameter-file $f
--create-option
--storage-account-id
--image-reference
--source-uri
--source-resource-id

azure managed-disk update-parameters image-reference set
--parameter-file $f
--parse
--id $id
--lun $lun

azure managed-disk update-parameters image-reference delete
--parameter-file $f
--id
--lun

azure managed-disk update-parameters encryption-settings set
--parameter-file $f
--parse
--enabled $enabled
--disk-encryption-key $diskEncryptionKey
--key-encryption-key $keyEncryptionKey

azure managed-disk update-parameters encryption-settings delete
--parameter-file $f
--enabled
--disk-encryption-key
--key-encryption-key

azure managed-disk update-parameters disk-encryption-key set
--parameter-file $f
--parse
--source-vault $sourceVault
--secret-url $secretUrl

azure managed-disk update-parameters disk-encryption-key delete
--parameter-file $f
--source-vault
--secret-url

azure managed-disk update-parameters source-vault set
--parameter-file $f
--parse
--id $id

azure managed-disk update-parameters source-vault delete
--parameter-file $f
--id

azure managed-disk update-parameters key-encryption-key set
--parameter-file $f
--parse
--source-vault $sourceVault
--key-url $keyUrl

azure managed-disk update-parameters key-encryption-key delete
--parameter-file $f
--source-vault
--key-url

azure managed-disk update-parameters source-vault delete
--parameter-file $f

azure managed-disk update 
--resource-group $p0
--name $p1
--disk $p2
--parameter-file $f

azure managed-disk update-parameters generate 
--parameter-file $f

azure managed-disk update-parameters patch 
--parameter-file $f


*/

'use strict';var fs = require('fs');
var jsonpatch = require('fast-json-patch');

var profile = require('../../../util/profile');
var utils = require('../../../util/utils');

var $ = utils.getLocaleString;function beautify(jsonText) {
  var obj = JSON.parse(jsonText);
  return JSON.stringify(obj, null, 2);
}
function capitalize(str) {
  if (str && str.length >= 1) {
    return str.charAt(0).toUpperCase() + str.slice(1);
  }
  else {
    return str;
  }
}

function makeTuple(k, v, d) {
  return { key : k, value : v, depth : d };
}

function displayImpl(o, key, depth, arr) {
  if ((!!o) && (o.constructor === Object || o.constructor === Array)) {
    arr.push(makeTuple(key, '', depth));
    var len = 0;
    Object.keys(o).forEach(function(k1) {
      var v1 = o[k1];
      var p1 = o.constructor === Array ? '#' : '';
      var w = displayImpl(v1, p1 + k1, depth + 1, arr);
      if (w > len) {
        len = w;
      }
    });
    return len;
  }
  else {
    arr.push(makeTuple(key, o ? o.toString() : '', depth));
    return depth * 2 + (key ? key.toString().length : 0);
  }
}

function display(cli, o) {
  var arr = [];
  var width = displayImpl(o, '', 0, arr);
  for (var t in arr) {
    var prebuf = new Array(arr[t].depth * 2).join(' ');
    var key = arr[t].key ? arr[t].key : '';
    var postLen = width - (prebuf.length + key.length);
    var postbuf = new Array(postLen > 0 ? postLen : 0).join(' ');
    var str = prebuf + capitalize(key) + postbuf;
    if (arr[t].value) {
      str += ' : ' + arr[t].value;
    }
    cli.output.data(str);
  }
}exports.init = function (cli) {

/*
  Disks CreateOrUpdate
  --resource-group
  --name
  --disk
=============================================
{
  "accountType":null,
  "timeCreated":null,
  "osType":null,
  "creationData":{
    "createOption":"",
    "storageAccountId":"",
    "imageReference":{
      "id":"",
      "lun":null
    },
    "sourceUri":"",
    "sourceResourceId":""
  },
  "diskSizeGB":null,
  "encryptionSettings":{
    "enabled":null,
    "diskEncryptionKey":{
      "sourceVault":{
        "id":""
      },
      "secretUrl":""
    },
    "keyEncryptionKey":{
      "sourceVault":{
        "id":""
      },
      "keyUrl":""
    }
  },
  "ownerId":"",
  "provisioningState":"",
  "id":null,
  "name":null,
  "type":null,
  "location":"",
  "tags":{
  }
}
*/
  var disksCreateOrUpdate = cli.category('managed-disk')
  .description($('Commands to manage your disks.  '));
  disksCreateOrUpdate.command('create [resource-group] [name] [disk]')
  .description($('Creates or updates a disk.'))
  .usage('[options] <resource-group> <name> <disk>')
  .option('-g, --resource-group <resource-group>', $('resource-group'))
  .option('-n, --name <name>', $('name'))
  .option('--disk <disk>', $('A string of parameters in JSON format'))
  .option('--parameter-file <parameter-file>', $('The text file that contains input parameter object in JSON format'))
  .option('-s, --subscription <subscription>', $('The subscription identifier'))
  .execute(function(resourceGroup, name, disk, options, _) {
    if (!resourceGroup) {
      resourceGroup = cli.interaction.promptIfNotGiven($('resource-group : '), resourceGroup, _);
    }

    cli.output.verbose('resourceGroup = ' + resourceGroup);
    if (!name) {
      name = cli.interaction.promptIfNotGiven($('name : '), name, _);
    }

    cli.output.verbose('name = ' + name);
    cli.output.verbose('disk = ' + disk);
    var diskObj = null;
    if (options.parameterFile) {
      cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
      var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
      diskObj = JSON.parse(fileContent);
    }
    else {
      diskObj = JSON.parse(disk);
    }
    cli.output.verbose('diskObj = ' + JSON.stringify(diskObj));
    var subscription = profile.current.getSubscription(options.subscription);
    var computeManagementClient = utils.createComputeManagementClient(subscription);
    var result = computeManagementClient.disks.createOrUpdate(resourceGroup, name, diskObj, _);
    if (result) {
      cli.output.json(result);
    }
  });
  var disksCreateOrUpdatecreateOrUpdateParameters2 = disksCreateOrUpdate.category('config')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  disksCreateOrUpdatecreateOrUpdateParameters2.command('create')
  .description($('Generate disksCreateOrUpdate parameter string or files.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .execute(function(options, _) {
    cli.output.verbose('{\"accountType\":null,\"timeCreated\":null,\"osType\":null,\"creationData\":{\"createOption\":\"\",\"storageAccountId\":\"\",\"imageReference\":{\"id\":\"\",\"lun\":null},\"sourceUri\":\"\",\"sourceResourceId\":\"\"},\"diskSizeGB\":null,\"encryptionSettings\":{\"enabled\":null,\"diskEncryptionKey\":{\"sourceVault\":{\"id\":\"\"},\"secretUrl\":\"\"},\"keyEncryptionKey\":{\"sourceVault\":{\"id\":\"\"},\"keyUrl\":\"\"}},\"ownerId\":\"\",\"provisioningState\":\"\",\"id\":null,\"name\":null,\"type\":null,\"location\":\"\",\"tags\":{}}', _);
    var filePath = 'disksCreateOrUpdate_createOrUpdate.json';
    if (options.parameterFile) {
      filePath = options.parameterFile;
    }
    fs.writeFileSync(filePath, beautify('{\r\n\"accountType\":null,\r\n\"timeCreated\":null,\r\n\"osType\":null,\r\n\"creationData\":{\r\n\"createOption\":\"\",\r\n\"storageAccountId\":\"\",\r\n\"imageReference\":{\r\n\"id\":\"\",\r\n\"lun\":null\r\n},\r\n\"sourceUri\":\"\",\r\n\"sourceResourceId\":\"\"\r\n},\r\n\"diskSizeGB\":null,\r\n\"encryptionSettings\":{\r\n\"enabled\":null,\r\n\"diskEncryptionKey\":{\r\n\"sourceVault\":{\r\n\"id\":\"\"\r\n},\r\n\"secretUrl\":\"\"\r\n},\r\n\"keyEncryptionKey\":{\r\n\"sourceVault\":{\r\n\"id\":\"\"\r\n},\r\n\"keyUrl\":\"\"\r\n}\r\n},\r\n\"ownerId\":\"\",\r\n\"provisioningState\":\"\",\r\n\"id\":null,\r\n\"name\":null,\r\n\"type\":null,\r\n\"location\":\"\",\r\n\"tags\":{\r\n}\r\n}'));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file output to: ' + filePath);
    cli.output.verbose('=====================================');
  });

  disksCreateOrUpdatecreateOrUpdateParameters2.command('patch')
  .description($('Command to patch disksCreateOrUpdate parameter JSON file.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--operation <operation>', $('The JSON patch operation: add, remove, or replace.'))
  .option('--path <path>', $('The JSON data path, e.g.: \"foo/1\".'))
  .option('--value <value>', $('The JSON value.'))
  .option('--parse', $('Parse the JSON value to object.'))
  .execute(function(options, _) {
    cli.output.verbose(options.parameterFile, _);
    cli.output.verbose(options.operation);
    cli.output.verbose(options.path);
    cli.output.verbose(options.value);
    cli.output.verbose(options.parse);
    if (options.parse) {
      options.value = JSON.parse(options.value);
    }
    cli.output.verbose(options.value);
    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var diskObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(diskObj));
    if (options.operation == 'add') {
      jsonpatch.apply(diskObj, [{op: options.operation, path: options.path, value: options.value}]);
    }
    else if (options.operation == 'remove') {
      jsonpatch.apply(diskObj, [{op: options.operation, path: options.path}]);
    }
    else if (options.operation == 'replace') {
      jsonpatch.apply(diskObj, [{op: options.operation, path: options.path, value: options.value}]);
    }
    var updatedContent = JSON.stringify(diskObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(diskObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });

  //config set disk
  var catparametersCreateOrUpdateDisksDisk0 = cli.category('managed-disk');
  var parametersCreateOrUpdateDisksDisk0 = catparametersCreateOrUpdateDisksDisk0.category('config')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var setparametersCreateOrUpdateDisksDisk0 = parametersCreateOrUpdateDisksDisk0.category('disk')
  .description($('Commands to configure disk of managed-disk in config file.'));
  setparametersCreateOrUpdateDisksDisk0.command('set')
  .description($('Set disk in config string or files, e.g. \r\n{\r\n  "accountType":null,\r\n  "timeCreated":null,\r\n  "osType":null,\r\n  "creationData":{\r\n    "createOption":"",\r\n    "storageAccountId":"",\r\n    "imageReference":{\r\n      "id":"",\r\n      "lun":null\r\n    },\r\n    "sourceUri":"",\r\n    "sourceResourceId":""\r\n  },\r\n  "diskSizeGB":null,\r\n  "encryptionSettings":{\r\n    "enabled":null,\r\n    "diskEncryptionKey":{\r\n      "sourceVault":{\r\n        "id":""\r\n      },\r\n      "secretUrl":""\r\n    },\r\n    "keyEncryptionKey":{\r\n      "sourceVault":{\r\n        "id":""\r\n      },\r\n      "keyUrl":""\r\n    }\r\n  },\r\n  "ownerId":"",\r\n  "provisioningState":"",\r\n  "id":null,\r\n  "name":null,\r\n  "type":null,\r\n  "location":"",\r\n  "tags":{\r\n  }\r\n}\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--parse', $('Parse the input string, i.e. str, for parameters to a JSON object, e.g. JSON.parse(str).'))
  .option('--account-type <accountType>', $('Set the account-type value.'))
  .option('--time-created <timeCreated>', $('Set the time-created value.'))
  .option('--os-type <osType>', $('Set the os-type value.'))
  .option('--creation-data <creationData>', $('Set the creation-data value.'))
  .option('--disk-size-g-b <diskSizeGB>', $('Set the disk-size-g-b value.'))
  .option('--encryption-settings <encryptionSettings>', $('Set the encryption-settings value.'))
  .option('--owner-id <ownerId>', $('Set the owner-id value.'))
  .option('--provisioning-state <provisioningState>', $('Set the provisioning-state value.'))
  .option('--id <id>', $('Set the id value.'))
  .option('--name <name>', $('Set the name value.'))
  .option('--type <type>', $('Set the type value.'))
  .option('--location <location>', $('Set the location value.'))
  .option('--tags <tags>', $('Set the tags value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'replace';
    options.path = '';
    var error = jsonpatch.validate([{op: 'remove', path: options.path}], parametersObj);
    if (typeof error !== 'undefined') {
      jsonpatch.apply(parametersObj, [{op: 'add', path: options.path, value: {}}]);
    }
    var paramPath = options.path + '/' + 'accountType';
    if (options.accountType) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.accountType);
      cli.output.verbose('================================================');
      if (options.parse && options.accountType) {
        options.accountType = JSON.parse(options.accountType);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.accountType}]);
    }
    paramPath = options.path + '/' + 'timeCreated';
    if (options.timeCreated) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.timeCreated);
      cli.output.verbose('================================================');
      if (options.parse && options.timeCreated) {
        options.timeCreated = JSON.parse(options.timeCreated);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.timeCreated}]);
    }
    paramPath = options.path + '/' + 'osType';
    if (options.osType) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.osType);
      cli.output.verbose('================================================');
      if (options.parse && options.osType) {
        options.osType = JSON.parse(options.osType);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.osType}]);
    }
    paramPath = options.path + '/' + 'creationData';
    if (options.creationData) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.creationData);
      cli.output.verbose('================================================');
      if (options.parse && options.creationData) {
        options.creationData = JSON.parse(options.creationData);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.creationData}]);
    }
    paramPath = options.path + '/' + 'diskSizeGB';
    if (options.diskSizeGB) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.diskSizeGB);
      cli.output.verbose('================================================');
      if (options.parse && options.diskSizeGB) {
        options.diskSizeGB = JSON.parse(options.diskSizeGB);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.diskSizeGB}]);
    }
    paramPath = options.path + '/' + 'encryptionSettings';
    if (options.encryptionSettings) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.encryptionSettings);
      cli.output.verbose('================================================');
      if (options.parse && options.encryptionSettings) {
        options.encryptionSettings = JSON.parse(options.encryptionSettings);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.encryptionSettings}]);
    }
    paramPath = options.path + '/' + 'ownerId';
    if (options.ownerId) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.ownerId);
      cli.output.verbose('================================================');
      if (options.parse && options.ownerId) {
        options.ownerId = JSON.parse(options.ownerId);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.ownerId}]);
    }
    paramPath = options.path + '/' + 'provisioningState';
    if (options.provisioningState) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.provisioningState);
      cli.output.verbose('================================================');
      if (options.parse && options.provisioningState) {
        options.provisioningState = JSON.parse(options.provisioningState);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.provisioningState}]);
    }
    paramPath = options.path + '/' + 'id';
    if (options.id) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.id);
      cli.output.verbose('================================================');
      if (options.parse && options.id) {
        options.id = JSON.parse(options.id);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.id}]);
    }
    paramPath = options.path + '/' + 'name';
    if (options.name) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.name);
      cli.output.verbose('================================================');
      if (options.parse && options.name) {
        options.name = JSON.parse(options.name);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.name}]);
    }
    paramPath = options.path + '/' + 'type';
    if (options.type) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.type);
      cli.output.verbose('================================================');
      if (options.parse && options.type) {
        options.type = JSON.parse(options.type);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.type}]);
    }
    paramPath = options.path + '/' + 'location';
    if (options.location) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.location);
      cli.output.verbose('================================================');
      if (options.parse && options.location) {
        options.location = JSON.parse(options.location);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.location}]);
    }
    paramPath = options.path + '/' + 'tags';
    if (options.tags) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.tags);
      cli.output.verbose('================================================');
      if (options.parse && options.tags) {
        options.tags = JSON.parse(options.tags);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.tags}]);
    }
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });

  //config delete disk
  var catparametersCreateOrUpdateDisksDisk1 = cli.category('managed-disk');
  var parametersCreateOrUpdateDisksDisk1 = catparametersCreateOrUpdateDisksDisk1.category('config')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var deleteparametersCreateOrUpdateDisksDisk1 = parametersCreateOrUpdateDisksDisk1.category('disk')
  .description($('Commands to configure disk of managed-disk in config file.'));
  deleteparametersCreateOrUpdateDisksDisk1.command('delete')
  .description($('Remove disk in config string or files, e.g. \r\n{\r\n  "accountType":null,\r\n  "timeCreated":null,\r\n  "osType":null,\r\n  "creationData":{\r\n    "createOption":"",\r\n    "storageAccountId":"",\r\n    "imageReference":{\r\n      "id":"",\r\n      "lun":null\r\n    },\r\n    "sourceUri":"",\r\n    "sourceResourceId":""\r\n  },\r\n  "diskSizeGB":null,\r\n  "encryptionSettings":{\r\n    "enabled":null,\r\n    "diskEncryptionKey":{\r\n      "sourceVault":{\r\n        "id":""\r\n      },\r\n      "secretUrl":""\r\n    },\r\n    "keyEncryptionKey":{\r\n      "sourceVault":{\r\n        "id":""\r\n      },\r\n      "keyUrl":""\r\n    }\r\n  },\r\n  "ownerId":"",\r\n  "provisioningState":"",\r\n  "id":null,\r\n  "name":null,\r\n  "type":null,\r\n  "location":"",\r\n  "tags":{\r\n  }\r\n}\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--account-type', $('Remove the account-type value.'))
  .option('--time-created', $('Remove the time-created value.'))
  .option('--os-type', $('Remove the os-type value.'))
  .option('--creation-data', $('Remove the creation-data value.'))
  .option('--disk-size-g-b', $('Remove the disk-size-g-b value.'))
  .option('--encryption-settings', $('Remove the encryption-settings value.'))
  .option('--owner-id', $('Remove the owner-id value.'))
  .option('--provisioning-state', $('Remove the provisioning-state value.'))
  .option('--id', $('Remove the id value.'))
  .option('--name', $('Remove the name value.'))
  .option('--type', $('Remove the type value.'))
  .option('--location', $('Remove the location value.'))
  .option('--tags', $('Remove the tags value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'remove';
    options.path = '';
    var anySubItem = false || options.accountType || options.timeCreated || options.osType || options.creationData || options.diskSizeGB || options.encryptionSettings || options.ownerId || options.provisioningState || options.id || options.name || options.type || options.location || options.tags;
    if (anySubItem) {
      var subItemPath = null;
      if (options.accountType) {
        subItemPath = options.path + '/accountType';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.timeCreated) {
        subItemPath = options.path + '/timeCreated';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.osType) {
        subItemPath = options.path + '/osType';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.creationData) {
        subItemPath = options.path + '/creationData';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.diskSizeGB) {
        subItemPath = options.path + '/diskSizeGB';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.encryptionSettings) {
        subItemPath = options.path + '/encryptionSettings';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.ownerId) {
        subItemPath = options.path + '/ownerId';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.provisioningState) {
        subItemPath = options.path + '/provisioningState';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.id) {
        subItemPath = options.path + '/id';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.name) {
        subItemPath = options.path + '/name';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.type) {
        subItemPath = options.path + '/type';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.location) {
        subItemPath = options.path + '/location';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.tags) {
        subItemPath = options.path + '/tags';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
    }
    else {
      jsonpatch.apply(parametersObj, [{op: options.operation, path: options.path}]);
    }
    
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });
  //config set creation-data
  var catparametersCreateOrUpdateDisksCreationData0CD = cli.category('managed-disk');
  var parametersCreateOrUpdateDisksCreationData0CD = catparametersCreateOrUpdateDisksCreationData0CD.category('config')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var setparametersCreateOrUpdateDisksCreationData0CD = parametersCreateOrUpdateDisksCreationData0CD.category('creation-data')
  .description($('Commands to configure creation-data of managed-disk in config file.'));
  setparametersCreateOrUpdateDisksCreationData0CD.command('set')
  .description($('Set creation-data in config string or files, e.g. \r\n         {\r\n           ...\r\n           "creationData" : {\r\n             "createOption":"",\r\n             "storageAccountId":"",\r\n             "imageReference":{\r\n               "id":"",\r\n               "lun":null\r\n             },\r\n             "sourceUri":"",\r\n             "sourceResourceId":""\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--parse', $('Parse the input string, i.e. str, for parameters to a JSON object, e.g. JSON.parse(str).'))
  .option('--create-option <createOption>', $('Set the create-option value.'))
  .option('--storage-account-id <storageAccountId>', $('Set the storage-account-id value.'))
  .option('--image-reference <imageReference>', $('Set the image-reference value.'))
  .option('--source-uri <sourceUri>', $('Set the source-uri value.'))
  .option('--source-resource-id <sourceResourceId>', $('Set the source-resource-id value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'replace';
    options.path = '/creationData';
    var error = jsonpatch.validate([{op: 'remove', path: options.path}], parametersObj);
    if (typeof error !== 'undefined') {
      jsonpatch.apply(parametersObj, [{op: 'add', path: options.path, value: {}}]);
    }
    var paramPath = options.path + '/' + 'createOption';
    if (options.createOption) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.createOption);
      cli.output.verbose('================================================');
      if (options.parse && options.createOption) {
        options.createOption = JSON.parse(options.createOption);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.createOption}]);
    }
    paramPath = options.path + '/' + 'storageAccountId';
    if (options.storageAccountId) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.storageAccountId);
      cli.output.verbose('================================================');
      if (options.parse && options.storageAccountId) {
        options.storageAccountId = JSON.parse(options.storageAccountId);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.storageAccountId}]);
    }
    paramPath = options.path + '/' + 'imageReference';
    if (options.imageReference) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.imageReference);
      cli.output.verbose('================================================');
      if (options.parse && options.imageReference) {
        options.imageReference = JSON.parse(options.imageReference);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.imageReference}]);
    }
    paramPath = options.path + '/' + 'sourceUri';
    if (options.sourceUri) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.sourceUri);
      cli.output.verbose('================================================');
      if (options.parse && options.sourceUri) {
        options.sourceUri = JSON.parse(options.sourceUri);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.sourceUri}]);
    }
    paramPath = options.path + '/' + 'sourceResourceId';
    if (options.sourceResourceId) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.sourceResourceId);
      cli.output.verbose('================================================');
      if (options.parse && options.sourceResourceId) {
        options.sourceResourceId = JSON.parse(options.sourceResourceId);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.sourceResourceId}]);
    }
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });

  //config delete creation-data
  var catparametersCreateOrUpdateDisksCreationData1CD = cli.category('managed-disk');
  var parametersCreateOrUpdateDisksCreationData1CD = catparametersCreateOrUpdateDisksCreationData1CD.category('config')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var deleteparametersCreateOrUpdateDisksCreationData1CD = parametersCreateOrUpdateDisksCreationData1CD.category('creation-data')
  .description($('Commands to configure creation-data of managed-disk in config file.'));
  deleteparametersCreateOrUpdateDisksCreationData1CD.command('delete')
  .description($('Remove creation-data in config string or files, e.g. \r\n         {\r\n           ...\r\n           "creationData" : {\r\n             "createOption":"",\r\n             "storageAccountId":"",\r\n             "imageReference":{\r\n               "id":"",\r\n               "lun":null\r\n             },\r\n             "sourceUri":"",\r\n             "sourceResourceId":""\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--create-option', $('Remove the create-option value.'))
  .option('--storage-account-id', $('Remove the storage-account-id value.'))
  .option('--image-reference', $('Remove the image-reference value.'))
  .option('--source-uri', $('Remove the source-uri value.'))
  .option('--source-resource-id', $('Remove the source-resource-id value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'remove';
    options.path = '/creationData';
    var anySubItem = false || options.createOption || options.storageAccountId || options.imageReference || options.sourceUri || options.sourceResourceId;
    if (anySubItem) {
      var subItemPath = null;
      if (options.createOption) {
        subItemPath = options.path + '/createOption';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.storageAccountId) {
        subItemPath = options.path + '/storageAccountId';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.imageReference) {
        subItemPath = options.path + '/imageReference';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.sourceUri) {
        subItemPath = options.path + '/sourceUri';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.sourceResourceId) {
        subItemPath = options.path + '/sourceResourceId';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
    }
    else {
      jsonpatch.apply(parametersObj, [{op: options.operation, path: options.path}]);
    }
    
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });
  //config set image-reference
  var catparametersCreateOrUpdateDisksImageReference0CDiR = cli.category('managed-disk');
  var parametersCreateOrUpdateDisksImageReference0CDiR = catparametersCreateOrUpdateDisksImageReference0CDiR.category('config')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var setparametersCreateOrUpdateDisksImageReference0CDiR = parametersCreateOrUpdateDisksImageReference0CDiR.category('image-reference')
  .description($('Commands to configure image-reference of managed-disk in config file.'));
  setparametersCreateOrUpdateDisksImageReference0CDiR.command('set')
  .description($('Set image-reference in config string or files, e.g. \r\n         {\r\n           ...\r\n           "imageReference" : {\r\n             "id":"",\r\n             "lun":null\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--parse', $('Parse the input string, i.e. str, for parameters to a JSON object, e.g. JSON.parse(str).'))
  .option('--id <id>', $('Set the id value.'))
  .option('--lun <lun>', $('Set the lun value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'replace';
    options.path = '/creationData/imageReference';
    var error = jsonpatch.validate([{op: 'remove', path: options.path}], parametersObj);
    if (typeof error !== 'undefined') {
      jsonpatch.apply(parametersObj, [{op: 'add', path: options.path, value: {}}]);
    }
    var paramPath = options.path + '/' + 'id';
    if (options.id) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.id);
      cli.output.verbose('================================================');
      if (options.parse && options.id) {
        options.id = JSON.parse(options.id);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.id}]);
    }
    paramPath = options.path + '/' + 'lun';
    if (options.lun) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.lun);
      cli.output.verbose('================================================');
      if (options.parse && options.lun) {
        options.lun = JSON.parse(options.lun);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.lun}]);
    }
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });

  //config delete image-reference
  var catparametersCreateOrUpdateDisksImageReference1CDiR = cli.category('managed-disk');
  var parametersCreateOrUpdateDisksImageReference1CDiR = catparametersCreateOrUpdateDisksImageReference1CDiR.category('config')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var deleteparametersCreateOrUpdateDisksImageReference1CDiR = parametersCreateOrUpdateDisksImageReference1CDiR.category('image-reference')
  .description($('Commands to configure image-reference of managed-disk in config file.'));
  deleteparametersCreateOrUpdateDisksImageReference1CDiR.command('delete')
  .description($('Remove image-reference in config string or files, e.g. \r\n         {\r\n           ...\r\n           "imageReference" : {\r\n             "id":"",\r\n             "lun":null\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--id', $('Remove the id value.'))
  .option('--lun', $('Remove the lun value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'remove';
    options.path = '/creationData/imageReference';
    var anySubItem = false || options.id || options.lun;
    if (anySubItem) {
      var subItemPath = null;
      if (options.id) {
        subItemPath = options.path + '/id';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.lun) {
        subItemPath = options.path + '/lun';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
    }
    else {
      jsonpatch.apply(parametersObj, [{op: options.operation, path: options.path}]);
    }
    
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });
  //config set encryption-settings
  var catparametersCreateOrUpdateDisksEncryptionSettings0ES = cli.category('managed-disk');
  var parametersCreateOrUpdateDisksEncryptionSettings0ES = catparametersCreateOrUpdateDisksEncryptionSettings0ES.category('config')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var setparametersCreateOrUpdateDisksEncryptionSettings0ES = parametersCreateOrUpdateDisksEncryptionSettings0ES.category('encryption-settings')
  .description($('Commands to configure encryption-settings of managed-disk in config file.'));
  setparametersCreateOrUpdateDisksEncryptionSettings0ES.command('set')
  .description($('Set encryption-settings in config string or files, e.g. \r\n         {\r\n           ...\r\n           "encryptionSettings" : {\r\n             "enabled":null,\r\n             "diskEncryptionKey":{\r\n               "sourceVault":{\r\n                 "id":""\r\n               },\r\n               "secretUrl":""\r\n             },\r\n             "keyEncryptionKey":{\r\n               "sourceVault":{\r\n                 "id":""\r\n               },\r\n               "keyUrl":""\r\n             }\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--parse', $('Parse the input string, i.e. str, for parameters to a JSON object, e.g. JSON.parse(str).'))
  .option('--enabled <enabled>', $('Set the enabled value.'))
  .option('--disk-encryption-key <diskEncryptionKey>', $('Set the disk-encryption-key value.'))
  .option('--key-encryption-key <keyEncryptionKey>', $('Set the key-encryption-key value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'replace';
    options.path = '/encryptionSettings';
    var error = jsonpatch.validate([{op: 'remove', path: options.path}], parametersObj);
    if (typeof error !== 'undefined') {
      jsonpatch.apply(parametersObj, [{op: 'add', path: options.path, value: {}}]);
    }
    var paramPath = options.path + '/' + 'enabled';
    if (options.enabled) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.enabled);
      cli.output.verbose('================================================');
      if (options.parse && options.enabled) {
        options.enabled = JSON.parse(options.enabled);
      }
      options.enabled = JSON.parse(options.enabled);
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.enabled}]);
    }
    paramPath = options.path + '/' + 'diskEncryptionKey';
    if (options.diskEncryptionKey) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.diskEncryptionKey);
      cli.output.verbose('================================================');
      if (options.parse && options.diskEncryptionKey) {
        options.diskEncryptionKey = JSON.parse(options.diskEncryptionKey);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.diskEncryptionKey}]);
    }
    paramPath = options.path + '/' + 'keyEncryptionKey';
    if (options.keyEncryptionKey) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.keyEncryptionKey);
      cli.output.verbose('================================================');
      if (options.parse && options.keyEncryptionKey) {
        options.keyEncryptionKey = JSON.parse(options.keyEncryptionKey);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.keyEncryptionKey}]);
    }
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });

  //config delete encryption-settings
  var catparametersCreateOrUpdateDisksEncryptionSettings1ES = cli.category('managed-disk');
  var parametersCreateOrUpdateDisksEncryptionSettings1ES = catparametersCreateOrUpdateDisksEncryptionSettings1ES.category('config')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var deleteparametersCreateOrUpdateDisksEncryptionSettings1ES = parametersCreateOrUpdateDisksEncryptionSettings1ES.category('encryption-settings')
  .description($('Commands to configure encryption-settings of managed-disk in config file.'));
  deleteparametersCreateOrUpdateDisksEncryptionSettings1ES.command('delete')
  .description($('Remove encryption-settings in config string or files, e.g. \r\n         {\r\n           ...\r\n           "encryptionSettings" : {\r\n             "enabled":null,\r\n             "diskEncryptionKey":{\r\n               "sourceVault":{\r\n                 "id":""\r\n               },\r\n               "secretUrl":""\r\n             },\r\n             "keyEncryptionKey":{\r\n               "sourceVault":{\r\n                 "id":""\r\n               },\r\n               "keyUrl":""\r\n             }\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--enabled', $('Remove the enabled value.'))
  .option('--disk-encryption-key', $('Remove the disk-encryption-key value.'))
  .option('--key-encryption-key', $('Remove the key-encryption-key value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'remove';
    options.path = '/encryptionSettings';
    var anySubItem = false || options.enabled || options.diskEncryptionKey || options.keyEncryptionKey;
    if (anySubItem) {
      var subItemPath = null;
      if (options.enabled) {
        subItemPath = options.path + '/enabled';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.diskEncryptionKey) {
        subItemPath = options.path + '/diskEncryptionKey';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.keyEncryptionKey) {
        subItemPath = options.path + '/keyEncryptionKey';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
    }
    else {
      jsonpatch.apply(parametersObj, [{op: options.operation, path: options.path}]);
    }
    
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });
  //config set disk-encryption-key
  var catparametersCreateOrUpdateDisksDiskEncryptionKey0ESdEK = cli.category('managed-disk');
  var parametersCreateOrUpdateDisksDiskEncryptionKey0ESdEK = catparametersCreateOrUpdateDisksDiskEncryptionKey0ESdEK.category('config')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var setparametersCreateOrUpdateDisksDiskEncryptionKey0ESdEK = parametersCreateOrUpdateDisksDiskEncryptionKey0ESdEK.category('disk-encryption-key')
  .description($('Commands to configure disk-encryption-key of managed-disk in config file.'));
  setparametersCreateOrUpdateDisksDiskEncryptionKey0ESdEK.command('set')
  .description($('Set disk-encryption-key in config string or files, e.g. \r\n         {\r\n           ...\r\n           "diskEncryptionKey" : {\r\n             "sourceVault":{\r\n               "id":""\r\n             },\r\n             "secretUrl":""\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--parse', $('Parse the input string, i.e. str, for parameters to a JSON object, e.g. JSON.parse(str).'))
  .option('--source-vault <sourceVault>', $('Set the source-vault value.'))
  .option('--secret-url <secretUrl>', $('Set the secret-url value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'replace';
    options.path = '/encryptionSettings/diskEncryptionKey';
    var error = jsonpatch.validate([{op: 'remove', path: options.path}], parametersObj);
    if (typeof error !== 'undefined') {
      jsonpatch.apply(parametersObj, [{op: 'add', path: options.path, value: {}}]);
    }
    var paramPath = options.path + '/' + 'sourceVault';
    if (options.sourceVault) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.sourceVault);
      cli.output.verbose('================================================');
      if (options.parse && options.sourceVault) {
        options.sourceVault = JSON.parse(options.sourceVault);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.sourceVault}]);
    }
    paramPath = options.path + '/' + 'secretUrl';
    if (options.secretUrl) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.secretUrl);
      cli.output.verbose('================================================');
      if (options.parse && options.secretUrl) {
        options.secretUrl = JSON.parse(options.secretUrl);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.secretUrl}]);
    }
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });

  //config delete disk-encryption-key
  var catparametersCreateOrUpdateDisksDiskEncryptionKey1ESdEK = cli.category('managed-disk');
  var parametersCreateOrUpdateDisksDiskEncryptionKey1ESdEK = catparametersCreateOrUpdateDisksDiskEncryptionKey1ESdEK.category('config')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var deleteparametersCreateOrUpdateDisksDiskEncryptionKey1ESdEK = parametersCreateOrUpdateDisksDiskEncryptionKey1ESdEK.category('disk-encryption-key')
  .description($('Commands to configure disk-encryption-key of managed-disk in config file.'));
  deleteparametersCreateOrUpdateDisksDiskEncryptionKey1ESdEK.command('delete')
  .description($('Remove disk-encryption-key in config string or files, e.g. \r\n         {\r\n           ...\r\n           "diskEncryptionKey" : {\r\n             "sourceVault":{\r\n               "id":""\r\n             },\r\n             "secretUrl":""\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--source-vault', $('Remove the source-vault value.'))
  .option('--secret-url', $('Remove the secret-url value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'remove';
    options.path = '/encryptionSettings/diskEncryptionKey';
    var anySubItem = false || options.sourceVault || options.secretUrl;
    if (anySubItem) {
      var subItemPath = null;
      if (options.sourceVault) {
        subItemPath = options.path + '/sourceVault';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.secretUrl) {
        subItemPath = options.path + '/secretUrl';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
    }
    else {
      jsonpatch.apply(parametersObj, [{op: options.operation, path: options.path}]);
    }
    
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });
  //config set source-vault
  var catparametersCreateOrUpdateDisksSourceVault0ESdEKsV = cli.category('managed-disk');
  var parametersCreateOrUpdateDisksSourceVault0ESdEKsV = catparametersCreateOrUpdateDisksSourceVault0ESdEKsV.category('config')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var setparametersCreateOrUpdateDisksSourceVault0ESdEKsV = parametersCreateOrUpdateDisksSourceVault0ESdEKsV.category('source-vault')
  .description($('Commands to configure source-vault of managed-disk in config file.'));
  setparametersCreateOrUpdateDisksSourceVault0ESdEKsV.command('set')
  .description($('Set source-vault in config string or files, e.g. \r\n         {\r\n           ...\r\n           "sourceVault" : {\r\n             "id":""\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--parse', $('Parse the input string, i.e. str, for parameters to a JSON object, e.g. JSON.parse(str).'))
  .option('--id <id>', $('Set the id value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'replace';
    options.path = '/encryptionSettings/diskEncryptionKey/sourceVault';
    var error = jsonpatch.validate([{op: 'remove', path: options.path}], parametersObj);
    if (typeof error !== 'undefined') {
      jsonpatch.apply(parametersObj, [{op: 'add', path: options.path, value: {}}]);
    }
    var paramPath = options.path + '/' + 'id';
    if (options.id) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.id);
      cli.output.verbose('================================================');
      if (options.parse && options.id) {
        options.id = JSON.parse(options.id);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.id}]);
    }
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });

  //config delete source-vault
  var catparametersCreateOrUpdateDisksSourceVault1ESdEKsV = cli.category('managed-disk');
  var parametersCreateOrUpdateDisksSourceVault1ESdEKsV = catparametersCreateOrUpdateDisksSourceVault1ESdEKsV.category('config')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var deleteparametersCreateOrUpdateDisksSourceVault1ESdEKsV = parametersCreateOrUpdateDisksSourceVault1ESdEKsV.category('source-vault')
  .description($('Commands to configure source-vault of managed-disk in config file.'));
  deleteparametersCreateOrUpdateDisksSourceVault1ESdEKsV.command('delete')
  .description($('Remove source-vault in config string or files, e.g. \r\n         {\r\n           ...\r\n           "sourceVault" : {\r\n             "id":""\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--id', $('Remove the id value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'remove';
    options.path = '/encryptionSettings/diskEncryptionKey/sourceVault';
    var anySubItem = false || options.id;
    if (anySubItem) {
      var subItemPath = null;
      if (options.id) {
        subItemPath = options.path + '/id';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
    }
    else {
      jsonpatch.apply(parametersObj, [{op: options.operation, path: options.path}]);
    }
    
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });
  //config set key-encryption-key
  var catparametersCreateOrUpdateDisksKeyEncryptionKey0ESkEK = cli.category('managed-disk');
  var parametersCreateOrUpdateDisksKeyEncryptionKey0ESkEK = catparametersCreateOrUpdateDisksKeyEncryptionKey0ESkEK.category('config')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var setparametersCreateOrUpdateDisksKeyEncryptionKey0ESkEK = parametersCreateOrUpdateDisksKeyEncryptionKey0ESkEK.category('key-encryption-key')
  .description($('Commands to configure key-encryption-key of managed-disk in config file.'));
  setparametersCreateOrUpdateDisksKeyEncryptionKey0ESkEK.command('set')
  .description($('Set key-encryption-key in config string or files, e.g. \r\n         {\r\n           ...\r\n           "keyEncryptionKey" : {\r\n             "sourceVault":{\r\n               "id":""\r\n             },\r\n             "keyUrl":""\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--parse', $('Parse the input string, i.e. str, for parameters to a JSON object, e.g. JSON.parse(str).'))
  .option('--source-vault <sourceVault>', $('Set the source-vault value.'))
  .option('--key-url <keyUrl>', $('Set the key-url value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'replace';
    options.path = '/encryptionSettings/keyEncryptionKey';
    var error = jsonpatch.validate([{op: 'remove', path: options.path}], parametersObj);
    if (typeof error !== 'undefined') {
      jsonpatch.apply(parametersObj, [{op: 'add', path: options.path, value: {}}]);
    }
    var paramPath = options.path + '/' + 'sourceVault';
    if (options.sourceVault) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.sourceVault);
      cli.output.verbose('================================================');
      if (options.parse && options.sourceVault) {
        options.sourceVault = JSON.parse(options.sourceVault);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.sourceVault}]);
    }
    paramPath = options.path + '/' + 'keyUrl';
    if (options.keyUrl) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.keyUrl);
      cli.output.verbose('================================================');
      if (options.parse && options.keyUrl) {
        options.keyUrl = JSON.parse(options.keyUrl);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.keyUrl}]);
    }
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });

  //config delete key-encryption-key
  var catparametersCreateOrUpdateDisksKeyEncryptionKey1ESkEK = cli.category('managed-disk');
  var parametersCreateOrUpdateDisksKeyEncryptionKey1ESkEK = catparametersCreateOrUpdateDisksKeyEncryptionKey1ESkEK.category('config')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var deleteparametersCreateOrUpdateDisksKeyEncryptionKey1ESkEK = parametersCreateOrUpdateDisksKeyEncryptionKey1ESkEK.category('key-encryption-key')
  .description($('Commands to configure key-encryption-key of managed-disk in config file.'));
  deleteparametersCreateOrUpdateDisksKeyEncryptionKey1ESkEK.command('delete')
  .description($('Remove key-encryption-key in config string or files, e.g. \r\n         {\r\n           ...\r\n           "keyEncryptionKey" : {\r\n             "sourceVault":{\r\n               "id":""\r\n             },\r\n             "keyUrl":""\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--source-vault', $('Remove the source-vault value.'))
  .option('--key-url', $('Remove the key-url value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'remove';
    options.path = '/encryptionSettings/keyEncryptionKey';
    var anySubItem = false || options.sourceVault || options.keyUrl;
    if (anySubItem) {
      var subItemPath = null;
      if (options.sourceVault) {
        subItemPath = options.path + '/sourceVault';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.keyUrl) {
        subItemPath = options.path + '/keyUrl';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
    }
    else {
      jsonpatch.apply(parametersObj, [{op: options.operation, path: options.path}]);
    }
    
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });
  //config delete source-vault
  var catparametersCreateOrUpdateDisksSourceVault1ESkEKsV1 = cli.category('managed-disk');
  var parametersCreateOrUpdateDisksSourceVault1ESkEKsV1 = catparametersCreateOrUpdateDisksSourceVault1ESkEKsV1.category('config')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var deleteparametersCreateOrUpdateDisksSourceVault1ESkEKsV1 = parametersCreateOrUpdateDisksSourceVault1ESkEKsV1.category('source-vault')
  .description($('Commands to configure source-vault of managed-disk in config file.'));
  deleteparametersCreateOrUpdateDisksSourceVault1ESkEKsV1.command('delete')
  .description($('Remove source-vault in config string or files, e.g. \r\n         {\r\n           ...\r\n           "sourceVault" : {\r\n             "id":""\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'remove';
    options.path = '/encryptionSettings/keyEncryptionKey/sourceVault';
    
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });

/*
  Disks Delete
  --resource-group
  --name
*/
  var disksDelete = cli.category('managed-disk')
  .description($('Commands to manage your disks.  '));
  disksDelete.command('delete [resource-group] [name]')
  .description($('Deletes a disk.'))
  .usage('[options] <resource-group> <name>')
  .option('-g, --resource-group <resource-group>', $('resource-group'))
  .option('-n, --name <name>', $('name'))
  .option('-s, --subscription <subscription>', $('The subscription identifier'))
  .execute(function(resourceGroup, name, options, _) {
    if (!resourceGroup) {
      resourceGroup = cli.interaction.promptIfNotGiven($('resource-group : '), resourceGroup, _);
    }

    cli.output.verbose('resourceGroup = ' + resourceGroup);
    if (!name) {
      name = cli.interaction.promptIfNotGiven($('name : '), name, _);
    }

    cli.output.verbose('name = ' + name);
    var subscription = profile.current.getSubscription(options.subscription);
    var computeManagementClient = utils.createComputeManagementClient(subscription);
    var result = computeManagementClient.disks.deleteMethod(resourceGroup, name, _);
    if (result) {
      cli.output.json(result);
    }
  });
/*
  Disks Get
  --resource-group
  --name
*/
  var disksGet = cli.category('managed-disk')
  .description($('Commands to manage your disks.  '));
  disksGet.command('show [resource-group] [name]')
  .description($('Gets information about a disk.'))
  .usage('[options] <resource-group> <name>')
  .option('-g, --resource-group <resource-group>', $('resource-group'))
  .option('-n, --name <name>', $('name'))
  .option('-s, --subscription <subscription>', $('The subscription identifier'))
  .execute(function(resourceGroup, name, options, _) {
    if (!resourceGroup) {
      resourceGroup = cli.interaction.promptIfNotGiven($('resource-group : '), resourceGroup, _);
    }

    cli.output.verbose('resourceGroup = ' + resourceGroup);
    if (!name) {
      name = cli.interaction.promptIfNotGiven($('name : '), name, _);
    }

    cli.output.verbose('name = ' + name);
    var subscription = profile.current.getSubscription(options.subscription);
    var computeManagementClient = utils.createComputeManagementClient(subscription);
    var result = computeManagementClient.disks.get(resourceGroup, name, _);
    if (cli.output.format().json) {
      cli.output.json(result);
    }
    else {
      display(cli, result);
    }
  });
/*
  Disks GrantAccess
  --resource-group
  --name
  --grant-access-data
=============================================
{
  "access":"",
  "durationInSeconds":""
}
*/
  var disksGrantAccess = cli.category('managed-disk')
  .description($('Commands to manage your disks.  '));
  disksGrantAccess.command('grant-access [resource-group] [name] [grant-access-data]')
  .description($('Grants access to a disk.'))
  .usage('[options] <resource-group> <name> <grant-access-data>')
  .option('-g, --resource-group <resource-group>', $('resource-group'))
  .option('-n, --name <name>', $('name'))
  .option('--grant-access-data <grant-access-data>', $('A string of parameters in JSON format'))
  .option('--parameter-file <parameter-file>', $('The text file that contains input parameter object in JSON format'))
  .option('-s, --subscription <subscription>', $('The subscription identifier'))
  .execute(function(resourceGroup, name, grantAccessData, options, _) {
    if (!resourceGroup) {
      resourceGroup = cli.interaction.promptIfNotGiven($('resource-group : '), resourceGroup, _);
    }

    cli.output.verbose('resourceGroup = ' + resourceGroup);
    if (!name) {
      name = cli.interaction.promptIfNotGiven($('name : '), name, _);
    }

    cli.output.verbose('name = ' + name);
    cli.output.verbose('grantAccessData = ' + grantAccessData);
    var grantAccessDataObj = null;
    if (options.parameterFile) {
      cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
      var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
      grantAccessDataObj = JSON.parse(fileContent);
    }
    else {
      grantAccessDataObj = JSON.parse(grantAccessData);
    }
    cli.output.verbose('grantAccessDataObj = ' + JSON.stringify(grantAccessDataObj));
    var subscription = profile.current.getSubscription(options.subscription);
    var computeManagementClient = utils.createComputeManagementClient(subscription);
    var result = computeManagementClient.disks.grantAccess(resourceGroup, name, grantAccessDataObj, _);
    if (result) {
      cli.output.json(result);
    }
  });
  var disksGrantAccessgrantAccessParameters2 = disksGrantAccess.category('grant-access-parameters')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  disksGrantAccessgrantAccessParameters2.command('create')
  .description($('Generate disksGrantAccess parameter string or files.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .execute(function(options, _) {
    cli.output.verbose('{\"access\":\"\",\"durationInSeconds\":\"\"}', _);
    var filePath = 'disksGrantAccess_grantAccess.json';
    if (options.parameterFile) {
      filePath = options.parameterFile;
    }
    fs.writeFileSync(filePath, beautify('{\r\n\"access\":\"\",\r\n\"durationInSeconds\":\"\"\r\n}'));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file output to: ' + filePath);
    cli.output.verbose('=====================================');
  });

  disksGrantAccessgrantAccessParameters2.command('patch')
  .description($('Command to patch disksGrantAccess parameter JSON file.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--operation <operation>', $('The JSON patch operation: add, remove, or replace.'))
  .option('--path <path>', $('The JSON data path, e.g.: \"foo/1\".'))
  .option('--value <value>', $('The JSON value.'))
  .option('--parse', $('Parse the JSON value to object.'))
  .execute(function(options, _) {
    cli.output.verbose(options.parameterFile, _);
    cli.output.verbose(options.operation);
    cli.output.verbose(options.path);
    cli.output.verbose(options.value);
    cli.output.verbose(options.parse);
    if (options.parse) {
      options.value = JSON.parse(options.value);
    }
    cli.output.verbose(options.value);
    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var grantAccessDataObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(grantAccessDataObj));
    if (options.operation == 'add') {
      jsonpatch.apply(grantAccessDataObj, [{op: options.operation, path: options.path, value: options.value}]);
    }
    else if (options.operation == 'remove') {
      jsonpatch.apply(grantAccessDataObj, [{op: options.operation, path: options.path}]);
    }
    else if (options.operation == 'replace') {
      jsonpatch.apply(grantAccessDataObj, [{op: options.operation, path: options.path, value: options.value}]);
    }
    var updatedContent = JSON.stringify(grantAccessDataObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(grantAccessDataObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });

  //grant-access-parameters set grant-access-data
  var catparametersGrantAccessDisksGrantAccessData0 = cli.category('managed-disk');
  var parametersGrantAccessDisksGrantAccessData0 = catparametersGrantAccessDisksGrantAccessData0.category('grant-access-parameters')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var setparametersGrantAccessDisksGrantAccessData0 = parametersGrantAccessDisksGrantAccessData0.category('grant-access-data')
  .description($('Commands to configure grant-access-data of managed-disk in grant-access-parameters file.'));
  setparametersGrantAccessDisksGrantAccessData0.command('set')
  .description($('Set grant-access-data in grant-access-parameters string or files, e.g. \r\n{\r\n  "access":"",\r\n  "durationInSeconds":""\r\n}\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--parse', $('Parse the input string, i.e. str, for parameters to a JSON object, e.g. JSON.parse(str).'))
  .option('--access <access>', $('Set the access value.'))
  .option('--duration-in-seconds <durationInSeconds>', $('Set the duration-in-seconds value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'replace';
    options.path = '';
    var error = jsonpatch.validate([{op: 'remove', path: options.path}], parametersObj);
    if (typeof error !== 'undefined') {
      jsonpatch.apply(parametersObj, [{op: 'add', path: options.path, value: {}}]);
    }
    var paramPath = options.path + '/' + 'access';
    if (options.access) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.access);
      cli.output.verbose('================================================');
      if (options.parse && options.access) {
        options.access = JSON.parse(options.access);
      }
      options.access = JSON.parse(options.access);
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.access}]);
    }
    paramPath = options.path + '/' + 'durationInSeconds';
    if (options.durationInSeconds) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.durationInSeconds);
      cli.output.verbose('================================================');
      if (options.parse && options.durationInSeconds) {
        options.durationInSeconds = JSON.parse(options.durationInSeconds);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.durationInSeconds}]);
    }
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });

  //grant-access-parameters delete grant-access-data
  var catparametersGrantAccessDisksGrantAccessData1 = cli.category('managed-disk');
  var parametersGrantAccessDisksGrantAccessData1 = catparametersGrantAccessDisksGrantAccessData1.category('grant-access-parameters')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var deleteparametersGrantAccessDisksGrantAccessData1 = parametersGrantAccessDisksGrantAccessData1.category('grant-access-data')
  .description($('Commands to configure grant-access-data of managed-disk in grant-access-parameters file.'));
  deleteparametersGrantAccessDisksGrantAccessData1.command('delete')
  .description($('Remove grant-access-data in grant-access-parameters string or files, e.g. \r\n{\r\n  "access":"",\r\n  "durationInSeconds":""\r\n}\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--access', $('Remove the access value.'))
  .option('--duration-in-seconds', $('Remove the duration-in-seconds value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'remove';
    options.path = '';
    var anySubItem = false || options.access || options.durationInSeconds;
    if (anySubItem) {
      var subItemPath = null;
      if (options.access) {
        subItemPath = options.path + '/access';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.durationInSeconds) {
        subItemPath = options.path + '/durationInSeconds';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
    }
    else {
      jsonpatch.apply(parametersObj, [{op: options.operation, path: options.path}]);
    }
    
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });

/*
  Disks ListByResourceGroup
  --resource-group
*/
  var disksListByResourceGroup = cli.category('managed-disk')
  .description($('Commands to manage your disks.  '));
  disksListByResourceGroup.command('list [resource-group]')
  .description($('Lists all the disks under a resource group.'))
  .usage('[options] <resource-group>')
  .option('-g, --resource-group <resource-group>', $('resource-group'))
  .option('-s, --subscription <subscription>', $('The subscription identifier'))
  .execute(function(resourceGroup, options, _) {
    cli.output.verbose('resourceGroup = ' + resourceGroup);
    var subscription = profile.current.getSubscription(options.subscription);
    var computeManagementClient = utils.createComputeManagementClient(subscription);
    var result = null;
    if (utils.stringIsNullOrEmpty(resourceGroup)) {
      result = computeManagementClient.disks.list(_);
    }
    else {
      result = computeManagementClient.disks.listByResourceGroup(resourceGroup, _);
    }
    var nextPageLink = result.nextLink;
    while (nextPageLink) {
      var pageResult = computeManagementClient.disks.listByResourceGroupNext(nextPageLink, _);
      pageResult.forEach(function(item) {
        result.push(item);
      });
      nextPageLink = pageResult.nextLink;
    }

    if (cli.output.format().json) {
      cli.output.json(result);
    }
    else {
      cli.output.table(result, function (row, item) {
        var rgName = item.id ? utils.parseResourceReferenceUri(item.id).resourceGroupName : null;
        row.cell($('ResourceGroupName'), rgName);
        row.cell($('Name'), item.name);
        row.cell($('ProvisioningState'), item.provisioningState);
        row.cell($('Location'), item.location);
      });
    }
  });
/*
  Disks RevokeAccess
  --resource-group
  --name
*/
  var disksRevokeAccess = cli.category('managed-disk')
  .description($('Commands to manage your disks.  '));
  disksRevokeAccess.command('revoke-access [resource-group] [name]')
  .description($('Revokes access to a disk.'))
  .usage('[options] <resource-group> <name>')
  .option('-g, --resource-group <resource-group>', $('resource-group'))
  .option('-n, --name <name>', $('name'))
  .option('-s, --subscription <subscription>', $('The subscription identifier'))
  .execute(function(resourceGroup, name, options, _) {
    if (!resourceGroup) {
      resourceGroup = cli.interaction.promptIfNotGiven($('resource-group : '), resourceGroup, _);
    }

    cli.output.verbose('resourceGroup = ' + resourceGroup);
    if (!name) {
      name = cli.interaction.promptIfNotGiven($('name : '), name, _);
    }

    cli.output.verbose('name = ' + name);
    var subscription = profile.current.getSubscription(options.subscription);
    var computeManagementClient = utils.createComputeManagementClient(subscription);
    var result = computeManagementClient.disks.revokeAccess(resourceGroup, name, _);
    if (result) {
      cli.output.json(result);
    }
  });
/*
  Disks Update
  --resource-group
  --name
  --disk
=============================================
{
  "accountType":null,
  "osType":null,
  "creationData":{
    "createOption":"",
    "storageAccountId":"",
    "imageReference":{
      "id":"",
      "lun":null
    },
    "sourceUri":"",
    "sourceResourceId":""
  },
  "diskSizeGB":null,
  "encryptionSettings":{
    "enabled":null,
    "diskEncryptionKey":{
      "sourceVault":{
        "id":""
      },
      "secretUrl":""
    },
    "keyEncryptionKey":{
      "sourceVault":{
        "id":""
      },
      "keyUrl":""
    }
  },
  "tags":{
  }
}
*/
  var disksUpdate = cli.category('managed-disk')
  .description($('Commands to manage your disks.  '));
  disksUpdate.command('update [resource-group] [name] [disk]')
  .description($('Updates (patches) a disk.'))
  .usage('[options] <resource-group> <name> <disk>')
  .option('-g, --resource-group <resource-group>', $('resource-group'))
  .option('-n, --name <name>', $('name'))
  .option('--disk <disk>', $('A string of parameters in JSON format'))
  .option('--parameter-file <parameter-file>', $('The text file that contains input parameter object in JSON format'))
  .option('-s, --subscription <subscription>', $('The subscription identifier'))
  .execute(function(resourceGroup, name, disk, options, _) {
    if (!resourceGroup) {
      resourceGroup = cli.interaction.promptIfNotGiven($('resource-group : '), resourceGroup, _);
    }

    cli.output.verbose('resourceGroup = ' + resourceGroup);
    if (!name) {
      name = cli.interaction.promptIfNotGiven($('name : '), name, _);
    }

    cli.output.verbose('name = ' + name);
    cli.output.verbose('disk = ' + disk);
    var diskObj = null;
    if (options.parameterFile) {
      cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
      var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
      diskObj = JSON.parse(fileContent);
    }
    else {
      diskObj = JSON.parse(disk);
    }
    cli.output.verbose('diskObj = ' + JSON.stringify(diskObj));
    var subscription = profile.current.getSubscription(options.subscription);
    var computeManagementClient = utils.createComputeManagementClient(subscription);
    var result = computeManagementClient.disks.update(resourceGroup, name, diskObj, _);
    if (result) {
      cli.output.json(result);
    }
  });
  var disksUpdateupdateParameters2 = disksUpdate.category('update-parameters')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  disksUpdateupdateParameters2.command('create')
  .description($('Generate disksUpdate parameter string or files.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .execute(function(options, _) {
    cli.output.verbose('{\"accountType\":null,\"osType\":null,\"creationData\":{\"createOption\":\"\",\"storageAccountId\":\"\",\"imageReference\":{\"id\":\"\",\"lun\":null},\"sourceUri\":\"\",\"sourceResourceId\":\"\"},\"diskSizeGB\":null,\"encryptionSettings\":{\"enabled\":null,\"diskEncryptionKey\":{\"sourceVault\":{\"id\":\"\"},\"secretUrl\":\"\"},\"keyEncryptionKey\":{\"sourceVault\":{\"id\":\"\"},\"keyUrl\":\"\"}},\"tags\":{}}', _);
    var filePath = 'disksUpdate_update.json';
    if (options.parameterFile) {
      filePath = options.parameterFile;
    }
    fs.writeFileSync(filePath, beautify('{\r\n\"accountType\":null,\r\n\"osType\":null,\r\n\"creationData\":{\r\n\"createOption\":\"\",\r\n\"storageAccountId\":\"\",\r\n\"imageReference\":{\r\n\"id\":\"\",\r\n\"lun\":null\r\n},\r\n\"sourceUri\":\"\",\r\n\"sourceResourceId\":\"\"\r\n},\r\n\"diskSizeGB\":null,\r\n\"encryptionSettings\":{\r\n\"enabled\":null,\r\n\"diskEncryptionKey\":{\r\n\"sourceVault\":{\r\n\"id\":\"\"\r\n},\r\n\"secretUrl\":\"\"\r\n},\r\n\"keyEncryptionKey\":{\r\n\"sourceVault\":{\r\n\"id\":\"\"\r\n},\r\n\"keyUrl\":\"\"\r\n}\r\n},\r\n\"tags\":{\r\n}\r\n}'));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file output to: ' + filePath);
    cli.output.verbose('=====================================');
  });

  disksUpdateupdateParameters2.command('patch')
  .description($('Command to patch disksUpdate parameter JSON file.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--operation <operation>', $('The JSON patch operation: add, remove, or replace.'))
  .option('--path <path>', $('The JSON data path, e.g.: \"foo/1\".'))
  .option('--value <value>', $('The JSON value.'))
  .option('--parse', $('Parse the JSON value to object.'))
  .execute(function(options, _) {
    cli.output.verbose(options.parameterFile, _);
    cli.output.verbose(options.operation);
    cli.output.verbose(options.path);
    cli.output.verbose(options.value);
    cli.output.verbose(options.parse);
    if (options.parse) {
      options.value = JSON.parse(options.value);
    }
    cli.output.verbose(options.value);
    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var diskObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(diskObj));
    if (options.operation == 'add') {
      jsonpatch.apply(diskObj, [{op: options.operation, path: options.path, value: options.value}]);
    }
    else if (options.operation == 'remove') {
      jsonpatch.apply(diskObj, [{op: options.operation, path: options.path}]);
    }
    else if (options.operation == 'replace') {
      jsonpatch.apply(diskObj, [{op: options.operation, path: options.path, value: options.value}]);
    }
    var updatedContent = JSON.stringify(diskObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(diskObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });

  //update-parameters set disk-update
  var catparametersUpdateDisksDiskUpdate0 = cli.category('managed-disk');
  var parametersUpdateDisksDiskUpdate0 = catparametersUpdateDisksDiskUpdate0.category('update-parameters')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var setparametersUpdateDisksDiskUpdate0 = parametersUpdateDisksDiskUpdate0.category('disk-update')
  .description($('Commands to configure disk-update of managed-disk in update-parameters file.'));
  setparametersUpdateDisksDiskUpdate0.command('set')
  .description($('Set disk-update in update-parameters string or files, e.g. \r\n{\r\n  "accountType":null,\r\n  "osType":null,\r\n  "creationData":{\r\n    "createOption":"",\r\n    "storageAccountId":"",\r\n    "imageReference":{\r\n      "id":"",\r\n      "lun":null\r\n    },\r\n    "sourceUri":"",\r\n    "sourceResourceId":""\r\n  },\r\n  "diskSizeGB":null,\r\n  "encryptionSettings":{\r\n    "enabled":null,\r\n    "diskEncryptionKey":{\r\n      "sourceVault":{\r\n        "id":""\r\n      },\r\n      "secretUrl":""\r\n    },\r\n    "keyEncryptionKey":{\r\n      "sourceVault":{\r\n        "id":""\r\n      },\r\n      "keyUrl":""\r\n    }\r\n  },\r\n  "tags":{\r\n  }\r\n}\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--parse', $('Parse the input string, i.e. str, for parameters to a JSON object, e.g. JSON.parse(str).'))
  .option('--account-type <accountType>', $('Set the account-type value.'))
  .option('--os-type <osType>', $('Set the os-type value.'))
  .option('--creation-data <creationData>', $('Set the creation-data value.'))
  .option('--disk-size-g-b <diskSizeGB>', $('Set the disk-size-g-b value.'))
  .option('--encryption-settings <encryptionSettings>', $('Set the encryption-settings value.'))
  .option('--tags <tags>', $('Set the tags value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'replace';
    options.path = '';
    var error = jsonpatch.validate([{op: 'remove', path: options.path}], parametersObj);
    if (typeof error !== 'undefined') {
      jsonpatch.apply(parametersObj, [{op: 'add', path: options.path, value: {}}]);
    }
    var paramPath = options.path + '/' + 'accountType';
    if (options.accountType) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.accountType);
      cli.output.verbose('================================================');
      if (options.parse && options.accountType) {
        options.accountType = JSON.parse(options.accountType);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.accountType}]);
    }
    paramPath = options.path + '/' + 'osType';
    if (options.osType) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.osType);
      cli.output.verbose('================================================');
      if (options.parse && options.osType) {
        options.osType = JSON.parse(options.osType);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.osType}]);
    }
    paramPath = options.path + '/' + 'creationData';
    if (options.creationData) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.creationData);
      cli.output.verbose('================================================');
      if (options.parse && options.creationData) {
        options.creationData = JSON.parse(options.creationData);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.creationData}]);
    }
    paramPath = options.path + '/' + 'diskSizeGB';
    if (options.diskSizeGB) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.diskSizeGB);
      cli.output.verbose('================================================');
      if (options.parse && options.diskSizeGB) {
        options.diskSizeGB = JSON.parse(options.diskSizeGB);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.diskSizeGB}]);
    }
    paramPath = options.path + '/' + 'encryptionSettings';
    if (options.encryptionSettings) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.encryptionSettings);
      cli.output.verbose('================================================');
      if (options.parse && options.encryptionSettings) {
        options.encryptionSettings = JSON.parse(options.encryptionSettings);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.encryptionSettings}]);
    }
    paramPath = options.path + '/' + 'tags';
    if (options.tags) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.tags);
      cli.output.verbose('================================================');
      if (options.parse && options.tags) {
        options.tags = JSON.parse(options.tags);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.tags}]);
    }
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });

  //update-parameters delete disk-update
  var catparametersUpdateDisksDiskUpdate1 = cli.category('managed-disk');
  var parametersUpdateDisksDiskUpdate1 = catparametersUpdateDisksDiskUpdate1.category('update-parameters')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var deleteparametersUpdateDisksDiskUpdate1 = parametersUpdateDisksDiskUpdate1.category('disk-update')
  .description($('Commands to configure disk-update of managed-disk in update-parameters file.'));
  deleteparametersUpdateDisksDiskUpdate1.command('delete')
  .description($('Remove disk-update in update-parameters string or files, e.g. \r\n{\r\n  "accountType":null,\r\n  "osType":null,\r\n  "creationData":{\r\n    "createOption":"",\r\n    "storageAccountId":"",\r\n    "imageReference":{\r\n      "id":"",\r\n      "lun":null\r\n    },\r\n    "sourceUri":"",\r\n    "sourceResourceId":""\r\n  },\r\n  "diskSizeGB":null,\r\n  "encryptionSettings":{\r\n    "enabled":null,\r\n    "diskEncryptionKey":{\r\n      "sourceVault":{\r\n        "id":""\r\n      },\r\n      "secretUrl":""\r\n    },\r\n    "keyEncryptionKey":{\r\n      "sourceVault":{\r\n        "id":""\r\n      },\r\n      "keyUrl":""\r\n    }\r\n  },\r\n  "tags":{\r\n  }\r\n}\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--account-type', $('Remove the account-type value.'))
  .option('--os-type', $('Remove the os-type value.'))
  .option('--creation-data', $('Remove the creation-data value.'))
  .option('--disk-size-g-b', $('Remove the disk-size-g-b value.'))
  .option('--encryption-settings', $('Remove the encryption-settings value.'))
  .option('--tags', $('Remove the tags value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'remove';
    options.path = '';
    var anySubItem = false || options.accountType || options.osType || options.creationData || options.diskSizeGB || options.encryptionSettings || options.tags;
    if (anySubItem) {
      var subItemPath = null;
      if (options.accountType) {
        subItemPath = options.path + '/accountType';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.osType) {
        subItemPath = options.path + '/osType';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.creationData) {
        subItemPath = options.path + '/creationData';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.diskSizeGB) {
        subItemPath = options.path + '/diskSizeGB';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.encryptionSettings) {
        subItemPath = options.path + '/encryptionSettings';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.tags) {
        subItemPath = options.path + '/tags';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
    }
    else {
      jsonpatch.apply(parametersObj, [{op: options.operation, path: options.path}]);
    }
    
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });
  //update-parameters set creation-data
  var catparametersUpdateDisksCreationData0CD = cli.category('managed-disk');
  var parametersUpdateDisksCreationData0CD = catparametersUpdateDisksCreationData0CD.category('update-parameters')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var setparametersUpdateDisksCreationData0CD = parametersUpdateDisksCreationData0CD.category('creation-data')
  .description($('Commands to configure creation-data of managed-disk in update-parameters file.'));
  setparametersUpdateDisksCreationData0CD.command('set')
  .description($('Set creation-data in update-parameters string or files, e.g. \r\n         {\r\n           ...\r\n           "creationData" : {\r\n             "createOption":"",\r\n             "storageAccountId":"",\r\n             "imageReference":{\r\n               "id":"",\r\n               "lun":null\r\n             },\r\n             "sourceUri":"",\r\n             "sourceResourceId":""\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--parse', $('Parse the input string, i.e. str, for parameters to a JSON object, e.g. JSON.parse(str).'))
  .option('--create-option <createOption>', $('Set the create-option value.'))
  .option('--storage-account-id <storageAccountId>', $('Set the storage-account-id value.'))
  .option('--image-reference <imageReference>', $('Set the image-reference value.'))
  .option('--source-uri <sourceUri>', $('Set the source-uri value.'))
  .option('--source-resource-id <sourceResourceId>', $('Set the source-resource-id value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'replace';
    options.path = '/creationData';
    var error = jsonpatch.validate([{op: 'remove', path: options.path}], parametersObj);
    if (typeof error !== 'undefined') {
      jsonpatch.apply(parametersObj, [{op: 'add', path: options.path, value: {}}]);
    }
    var paramPath = options.path + '/' + 'createOption';
    if (options.createOption) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.createOption);
      cli.output.verbose('================================================');
      if (options.parse && options.createOption) {
        options.createOption = JSON.parse(options.createOption);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.createOption}]);
    }
    paramPath = options.path + '/' + 'storageAccountId';
    if (options.storageAccountId) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.storageAccountId);
      cli.output.verbose('================================================');
      if (options.parse && options.storageAccountId) {
        options.storageAccountId = JSON.parse(options.storageAccountId);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.storageAccountId}]);
    }
    paramPath = options.path + '/' + 'imageReference';
    if (options.imageReference) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.imageReference);
      cli.output.verbose('================================================');
      if (options.parse && options.imageReference) {
        options.imageReference = JSON.parse(options.imageReference);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.imageReference}]);
    }
    paramPath = options.path + '/' + 'sourceUri';
    if (options.sourceUri) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.sourceUri);
      cli.output.verbose('================================================');
      if (options.parse && options.sourceUri) {
        options.sourceUri = JSON.parse(options.sourceUri);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.sourceUri}]);
    }
    paramPath = options.path + '/' + 'sourceResourceId';
    if (options.sourceResourceId) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.sourceResourceId);
      cli.output.verbose('================================================');
      if (options.parse && options.sourceResourceId) {
        options.sourceResourceId = JSON.parse(options.sourceResourceId);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.sourceResourceId}]);
    }
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });

  //update-parameters delete creation-data
  var catparametersUpdateDisksCreationData1CD = cli.category('managed-disk');
  var parametersUpdateDisksCreationData1CD = catparametersUpdateDisksCreationData1CD.category('update-parameters')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var deleteparametersUpdateDisksCreationData1CD = parametersUpdateDisksCreationData1CD.category('creation-data')
  .description($('Commands to configure creation-data of managed-disk in update-parameters file.'));
  deleteparametersUpdateDisksCreationData1CD.command('delete')
  .description($('Remove creation-data in update-parameters string or files, e.g. \r\n         {\r\n           ...\r\n           "creationData" : {\r\n             "createOption":"",\r\n             "storageAccountId":"",\r\n             "imageReference":{\r\n               "id":"",\r\n               "lun":null\r\n             },\r\n             "sourceUri":"",\r\n             "sourceResourceId":""\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--create-option', $('Remove the create-option value.'))
  .option('--storage-account-id', $('Remove the storage-account-id value.'))
  .option('--image-reference', $('Remove the image-reference value.'))
  .option('--source-uri', $('Remove the source-uri value.'))
  .option('--source-resource-id', $('Remove the source-resource-id value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'remove';
    options.path = '/creationData';
    var anySubItem = false || options.createOption || options.storageAccountId || options.imageReference || options.sourceUri || options.sourceResourceId;
    if (anySubItem) {
      var subItemPath = null;
      if (options.createOption) {
        subItemPath = options.path + '/createOption';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.storageAccountId) {
        subItemPath = options.path + '/storageAccountId';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.imageReference) {
        subItemPath = options.path + '/imageReference';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.sourceUri) {
        subItemPath = options.path + '/sourceUri';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.sourceResourceId) {
        subItemPath = options.path + '/sourceResourceId';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
    }
    else {
      jsonpatch.apply(parametersObj, [{op: options.operation, path: options.path}]);
    }
    
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });
  //update-parameters set image-reference
  var catparametersUpdateDisksImageReference0CDiR = cli.category('managed-disk');
  var parametersUpdateDisksImageReference0CDiR = catparametersUpdateDisksImageReference0CDiR.category('update-parameters')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var setparametersUpdateDisksImageReference0CDiR = parametersUpdateDisksImageReference0CDiR.category('image-reference')
  .description($('Commands to configure image-reference of managed-disk in update-parameters file.'));
  setparametersUpdateDisksImageReference0CDiR.command('set')
  .description($('Set image-reference in update-parameters string or files, e.g. \r\n         {\r\n           ...\r\n           "imageReference" : {\r\n             "id":"",\r\n             "lun":null\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--parse', $('Parse the input string, i.e. str, for parameters to a JSON object, e.g. JSON.parse(str).'))
  .option('--id <id>', $('Set the id value.'))
  .option('--lun <lun>', $('Set the lun value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'replace';
    options.path = '/creationData/imageReference';
    var error = jsonpatch.validate([{op: 'remove', path: options.path}], parametersObj);
    if (typeof error !== 'undefined') {
      jsonpatch.apply(parametersObj, [{op: 'add', path: options.path, value: {}}]);
    }
    var paramPath = options.path + '/' + 'id';
    if (options.id) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.id);
      cli.output.verbose('================================================');
      if (options.parse && options.id) {
        options.id = JSON.parse(options.id);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.id}]);
    }
    paramPath = options.path + '/' + 'lun';
    if (options.lun) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.lun);
      cli.output.verbose('================================================');
      if (options.parse && options.lun) {
        options.lun = JSON.parse(options.lun);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.lun}]);
    }
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });

  //update-parameters delete image-reference
  var catparametersUpdateDisksImageReference1CDiR = cli.category('managed-disk');
  var parametersUpdateDisksImageReference1CDiR = catparametersUpdateDisksImageReference1CDiR.category('update-parameters')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var deleteparametersUpdateDisksImageReference1CDiR = parametersUpdateDisksImageReference1CDiR.category('image-reference')
  .description($('Commands to configure image-reference of managed-disk in update-parameters file.'));
  deleteparametersUpdateDisksImageReference1CDiR.command('delete')
  .description($('Remove image-reference in update-parameters string or files, e.g. \r\n         {\r\n           ...\r\n           "imageReference" : {\r\n             "id":"",\r\n             "lun":null\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--id', $('Remove the id value.'))
  .option('--lun', $('Remove the lun value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'remove';
    options.path = '/creationData/imageReference';
    var anySubItem = false || options.id || options.lun;
    if (anySubItem) {
      var subItemPath = null;
      if (options.id) {
        subItemPath = options.path + '/id';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.lun) {
        subItemPath = options.path + '/lun';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
    }
    else {
      jsonpatch.apply(parametersObj, [{op: options.operation, path: options.path}]);
    }
    
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });
  //update-parameters set encryption-settings
  var catparametersUpdateDisksEncryptionSettings0ES = cli.category('managed-disk');
  var parametersUpdateDisksEncryptionSettings0ES = catparametersUpdateDisksEncryptionSettings0ES.category('update-parameters')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var setparametersUpdateDisksEncryptionSettings0ES = parametersUpdateDisksEncryptionSettings0ES.category('encryption-settings')
  .description($('Commands to configure encryption-settings of managed-disk in update-parameters file.'));
  setparametersUpdateDisksEncryptionSettings0ES.command('set')
  .description($('Set encryption-settings in update-parameters string or files, e.g. \r\n         {\r\n           ...\r\n           "encryptionSettings" : {\r\n             "enabled":null,\r\n             "diskEncryptionKey":{\r\n               "sourceVault":{\r\n                 "id":""\r\n               },\r\n               "secretUrl":""\r\n             },\r\n             "keyEncryptionKey":{\r\n               "sourceVault":{\r\n                 "id":""\r\n               },\r\n               "keyUrl":""\r\n             }\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--parse', $('Parse the input string, i.e. str, for parameters to a JSON object, e.g. JSON.parse(str).'))
  .option('--enabled <enabled>', $('Set the enabled value.'))
  .option('--disk-encryption-key <diskEncryptionKey>', $('Set the disk-encryption-key value.'))
  .option('--key-encryption-key <keyEncryptionKey>', $('Set the key-encryption-key value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'replace';
    options.path = '/encryptionSettings';
    var error = jsonpatch.validate([{op: 'remove', path: options.path}], parametersObj);
    if (typeof error !== 'undefined') {
      jsonpatch.apply(parametersObj, [{op: 'add', path: options.path, value: {}}]);
    }
    var paramPath = options.path + '/' + 'enabled';
    if (options.enabled) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.enabled);
      cli.output.verbose('================================================');
      if (options.parse && options.enabled) {
        options.enabled = JSON.parse(options.enabled);
      }
      options.enabled = JSON.parse(options.enabled);
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.enabled}]);
    }
    paramPath = options.path + '/' + 'diskEncryptionKey';
    if (options.diskEncryptionKey) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.diskEncryptionKey);
      cli.output.verbose('================================================');
      if (options.parse && options.diskEncryptionKey) {
        options.diskEncryptionKey = JSON.parse(options.diskEncryptionKey);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.diskEncryptionKey}]);
    }
    paramPath = options.path + '/' + 'keyEncryptionKey';
    if (options.keyEncryptionKey) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.keyEncryptionKey);
      cli.output.verbose('================================================');
      if (options.parse && options.keyEncryptionKey) {
        options.keyEncryptionKey = JSON.parse(options.keyEncryptionKey);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.keyEncryptionKey}]);
    }
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });

  //update-parameters delete encryption-settings
  var catparametersUpdateDisksEncryptionSettings1ES = cli.category('managed-disk');
  var parametersUpdateDisksEncryptionSettings1ES = catparametersUpdateDisksEncryptionSettings1ES.category('update-parameters')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var deleteparametersUpdateDisksEncryptionSettings1ES = parametersUpdateDisksEncryptionSettings1ES.category('encryption-settings')
  .description($('Commands to configure encryption-settings of managed-disk in update-parameters file.'));
  deleteparametersUpdateDisksEncryptionSettings1ES.command('delete')
  .description($('Remove encryption-settings in update-parameters string or files, e.g. \r\n         {\r\n           ...\r\n           "encryptionSettings" : {\r\n             "enabled":null,\r\n             "diskEncryptionKey":{\r\n               "sourceVault":{\r\n                 "id":""\r\n               },\r\n               "secretUrl":""\r\n             },\r\n             "keyEncryptionKey":{\r\n               "sourceVault":{\r\n                 "id":""\r\n               },\r\n               "keyUrl":""\r\n             }\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--enabled', $('Remove the enabled value.'))
  .option('--disk-encryption-key', $('Remove the disk-encryption-key value.'))
  .option('--key-encryption-key', $('Remove the key-encryption-key value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'remove';
    options.path = '/encryptionSettings';
    var anySubItem = false || options.enabled || options.diskEncryptionKey || options.keyEncryptionKey;
    if (anySubItem) {
      var subItemPath = null;
      if (options.enabled) {
        subItemPath = options.path + '/enabled';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.diskEncryptionKey) {
        subItemPath = options.path + '/diskEncryptionKey';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.keyEncryptionKey) {
        subItemPath = options.path + '/keyEncryptionKey';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
    }
    else {
      jsonpatch.apply(parametersObj, [{op: options.operation, path: options.path}]);
    }
    
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });
  //update-parameters set disk-encryption-key
  var catparametersUpdateDisksDiskEncryptionKey0ESdEK = cli.category('managed-disk');
  var parametersUpdateDisksDiskEncryptionKey0ESdEK = catparametersUpdateDisksDiskEncryptionKey0ESdEK.category('update-parameters')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var setparametersUpdateDisksDiskEncryptionKey0ESdEK = parametersUpdateDisksDiskEncryptionKey0ESdEK.category('disk-encryption-key')
  .description($('Commands to configure disk-encryption-key of managed-disk in update-parameters file.'));
  setparametersUpdateDisksDiskEncryptionKey0ESdEK.command('set')
  .description($('Set disk-encryption-key in update-parameters string or files, e.g. \r\n         {\r\n           ...\r\n           "diskEncryptionKey" : {\r\n             "sourceVault":{\r\n               "id":""\r\n             },\r\n             "secretUrl":""\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--parse', $('Parse the input string, i.e. str, for parameters to a JSON object, e.g. JSON.parse(str).'))
  .option('--source-vault <sourceVault>', $('Set the source-vault value.'))
  .option('--secret-url <secretUrl>', $('Set the secret-url value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'replace';
    options.path = '/encryptionSettings/diskEncryptionKey';
    var error = jsonpatch.validate([{op: 'remove', path: options.path}], parametersObj);
    if (typeof error !== 'undefined') {
      jsonpatch.apply(parametersObj, [{op: 'add', path: options.path, value: {}}]);
    }
    var paramPath = options.path + '/' + 'sourceVault';
    if (options.sourceVault) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.sourceVault);
      cli.output.verbose('================================================');
      if (options.parse && options.sourceVault) {
        options.sourceVault = JSON.parse(options.sourceVault);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.sourceVault}]);
    }
    paramPath = options.path + '/' + 'secretUrl';
    if (options.secretUrl) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.secretUrl);
      cli.output.verbose('================================================');
      if (options.parse && options.secretUrl) {
        options.secretUrl = JSON.parse(options.secretUrl);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.secretUrl}]);
    }
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });

  //update-parameters delete disk-encryption-key
  var catparametersUpdateDisksDiskEncryptionKey1ESdEK = cli.category('managed-disk');
  var parametersUpdateDisksDiskEncryptionKey1ESdEK = catparametersUpdateDisksDiskEncryptionKey1ESdEK.category('update-parameters')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var deleteparametersUpdateDisksDiskEncryptionKey1ESdEK = parametersUpdateDisksDiskEncryptionKey1ESdEK.category('disk-encryption-key')
  .description($('Commands to configure disk-encryption-key of managed-disk in update-parameters file.'));
  deleteparametersUpdateDisksDiskEncryptionKey1ESdEK.command('delete')
  .description($('Remove disk-encryption-key in update-parameters string or files, e.g. \r\n         {\r\n           ...\r\n           "diskEncryptionKey" : {\r\n             "sourceVault":{\r\n               "id":""\r\n             },\r\n             "secretUrl":""\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--source-vault', $('Remove the source-vault value.'))
  .option('--secret-url', $('Remove the secret-url value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'remove';
    options.path = '/encryptionSettings/diskEncryptionKey';
    var anySubItem = false || options.sourceVault || options.secretUrl;
    if (anySubItem) {
      var subItemPath = null;
      if (options.sourceVault) {
        subItemPath = options.path + '/sourceVault';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.secretUrl) {
        subItemPath = options.path + '/secretUrl';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
    }
    else {
      jsonpatch.apply(parametersObj, [{op: options.operation, path: options.path}]);
    }
    
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });
  //update-parameters set source-vault
  var catparametersUpdateDisksSourceVault0ESdEKsV = cli.category('managed-disk');
  var parametersUpdateDisksSourceVault0ESdEKsV = catparametersUpdateDisksSourceVault0ESdEKsV.category('update-parameters')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var setparametersUpdateDisksSourceVault0ESdEKsV = parametersUpdateDisksSourceVault0ESdEKsV.category('source-vault')
  .description($('Commands to configure source-vault of managed-disk in update-parameters file.'));
  setparametersUpdateDisksSourceVault0ESdEKsV.command('set')
  .description($('Set source-vault in update-parameters string or files, e.g. \r\n         {\r\n           ...\r\n           "sourceVault" : {\r\n             "id":""\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--parse', $('Parse the input string, i.e. str, for parameters to a JSON object, e.g. JSON.parse(str).'))
  .option('--id <id>', $('Set the id value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'replace';
    options.path = '/encryptionSettings/diskEncryptionKey/sourceVault';
    var error = jsonpatch.validate([{op: 'remove', path: options.path}], parametersObj);
    if (typeof error !== 'undefined') {
      jsonpatch.apply(parametersObj, [{op: 'add', path: options.path, value: {}}]);
    }
    var paramPath = options.path + '/' + 'id';
    if (options.id) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.id);
      cli.output.verbose('================================================');
      if (options.parse && options.id) {
        options.id = JSON.parse(options.id);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.id}]);
    }
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });

  //update-parameters delete source-vault
  var catparametersUpdateDisksSourceVault1ESdEKsV = cli.category('managed-disk');
  var parametersUpdateDisksSourceVault1ESdEKsV = catparametersUpdateDisksSourceVault1ESdEKsV.category('update-parameters')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var deleteparametersUpdateDisksSourceVault1ESdEKsV = parametersUpdateDisksSourceVault1ESdEKsV.category('source-vault')
  .description($('Commands to configure source-vault of managed-disk in update-parameters file.'));
  deleteparametersUpdateDisksSourceVault1ESdEKsV.command('delete')
  .description($('Remove source-vault in update-parameters string or files, e.g. \r\n         {\r\n           ...\r\n           "sourceVault" : {\r\n             "id":""\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--id', $('Remove the id value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'remove';
    options.path = '/encryptionSettings/diskEncryptionKey/sourceVault';
    var anySubItem = false || options.id;
    if (anySubItem) {
      var subItemPath = null;
      if (options.id) {
        subItemPath = options.path + '/id';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
    }
    else {
      jsonpatch.apply(parametersObj, [{op: options.operation, path: options.path}]);
    }
    
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });
  //update-parameters set key-encryption-key
  var catparametersUpdateDisksKeyEncryptionKey0ESkEK = cli.category('managed-disk');
  var parametersUpdateDisksKeyEncryptionKey0ESkEK = catparametersUpdateDisksKeyEncryptionKey0ESkEK.category('update-parameters')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var setparametersUpdateDisksKeyEncryptionKey0ESkEK = parametersUpdateDisksKeyEncryptionKey0ESkEK.category('key-encryption-key')
  .description($('Commands to configure key-encryption-key of managed-disk in update-parameters file.'));
  setparametersUpdateDisksKeyEncryptionKey0ESkEK.command('set')
  .description($('Set key-encryption-key in update-parameters string or files, e.g. \r\n         {\r\n           ...\r\n           "keyEncryptionKey" : {\r\n             "sourceVault":{\r\n               "id":""\r\n             },\r\n             "keyUrl":""\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--parse', $('Parse the input string, i.e. str, for parameters to a JSON object, e.g. JSON.parse(str).'))
  .option('--source-vault <sourceVault>', $('Set the source-vault value.'))
  .option('--key-url <keyUrl>', $('Set the key-url value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'replace';
    options.path = '/encryptionSettings/keyEncryptionKey';
    var error = jsonpatch.validate([{op: 'remove', path: options.path}], parametersObj);
    if (typeof error !== 'undefined') {
      jsonpatch.apply(parametersObj, [{op: 'add', path: options.path, value: {}}]);
    }
    var paramPath = options.path + '/' + 'sourceVault';
    if (options.sourceVault) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.sourceVault);
      cli.output.verbose('================================================');
      if (options.parse && options.sourceVault) {
        options.sourceVault = JSON.parse(options.sourceVault);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.sourceVault}]);
    }
    paramPath = options.path + '/' + 'keyUrl';
    if (options.keyUrl) {
      cli.output.verbose('================================================');
      cli.output.verbose('Path  : ' + paramPath);
      cli.output.verbose('Value : ' + options.keyUrl);
      cli.output.verbose('================================================');
      if (options.parse && options.keyUrl) {
        options.keyUrl = JSON.parse(options.keyUrl);
      }
      jsonpatch.apply(parametersObj, [{op: options.operation, path: paramPath, value: options.keyUrl}]);
    }
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });

  //update-parameters delete key-encryption-key
  var catparametersUpdateDisksKeyEncryptionKey1ESkEK = cli.category('managed-disk');
  var parametersUpdateDisksKeyEncryptionKey1ESkEK = catparametersUpdateDisksKeyEncryptionKey1ESkEK.category('update-parameters')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var deleteparametersUpdateDisksKeyEncryptionKey1ESkEK = parametersUpdateDisksKeyEncryptionKey1ESkEK.category('key-encryption-key')
  .description($('Commands to configure key-encryption-key of managed-disk in update-parameters file.'));
  deleteparametersUpdateDisksKeyEncryptionKey1ESkEK.command('delete')
  .description($('Remove key-encryption-key in update-parameters string or files, e.g. \r\n         {\r\n           ...\r\n           "keyEncryptionKey" : {\r\n             "sourceVault":{\r\n               "id":""\r\n             },\r\n             "keyUrl":""\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .option('--source-vault', $('Remove the source-vault value.'))
  .option('--key-url', $('Remove the key-url value.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'remove';
    options.path = '/encryptionSettings/keyEncryptionKey';
    var anySubItem = false || options.sourceVault || options.keyUrl;
    if (anySubItem) {
      var subItemPath = null;
      if (options.sourceVault) {
        subItemPath = options.path + '/sourceVault';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
      if (options.keyUrl) {
        subItemPath = options.path + '/keyUrl';
        jsonpatch.apply(parametersObj, [{op: options.operation, path: subItemPath}]);
      }
    }
    else {
      jsonpatch.apply(parametersObj, [{op: options.operation, path: options.path}]);
    }
    
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });
  //update-parameters delete source-vault
  var catparametersUpdateDisksSourceVault1ESkEKsV1 = cli.category('managed-disk');
  var parametersUpdateDisksSourceVault1ESkEKsV1 = catparametersUpdateDisksSourceVault1ESkEKsV1.category('update-parameters')
  .description($('Commands to manage configuration of disks in the parameter file.'));
  var deleteparametersUpdateDisksSourceVault1ESkEKsV1 = parametersUpdateDisksSourceVault1ESkEKsV1.category('source-vault')
  .description($('Commands to configure source-vault of managed-disk in update-parameters file.'));
  deleteparametersUpdateDisksSourceVault1ESkEKsV1.command('delete')
  .description($('Remove source-vault in update-parameters string or files, e.g. \r\n         {\r\n           ...\r\n           "sourceVault" : {\r\n             "id":""\r\n           }\r\n           ...\r\n         }\r\n\r\n         There are two sets of commands:\r\n           1) function commands that are used to manage Azure resources in the cloud, and \r\n           2) parameter commands that generate & edit input files for the other set of commands.\r\n         For example, \'vmss show/list/stop\' are the function commands that call get, list and stop operations of \r\n         virtual machine scale set, whereas \'vmss config * generate/create/set/delete/add\' commands \r\n         are used to configure the input parameter file. The \'vmss config\' command takes a parameter \r\n         file as for the VM scale set configuration, and creates it online.'))
  .usage('[options]')
  .option('--parameter-file <parameter-file>', $('The parameter file path.'))
  .execute(function(options, _) {
    cli.output.verbose(JSON.stringify(options), _);
    if (!options.parameterFile) {
      options.parameterFile = cli.interaction.promptIfNotGiven($('parameter-file : '), options.parameterFile, _);
    }

    cli.output.verbose('=====================================');
    cli.output.verbose('Reading file content from: \"' + options.parameterFile + '\"');
    cli.output.verbose('=====================================');
    var fileContent = fs.readFileSync(options.parameterFile, 'utf8');
    var parametersObj = JSON.parse(fileContent);
    cli.output.verbose('JSON object:');
    cli.output.verbose(JSON.stringify(parametersObj));
    options.operation = 'remove';
    options.path = '/encryptionSettings/keyEncryptionKey/sourceVault';
    
    var updatedContent = JSON.stringify(parametersObj);
    cli.output.verbose('=====================================');
    cli.output.verbose('JSON object (updated):');
    cli.output.verbose(JSON.stringify(parametersObj));
    cli.output.verbose('=====================================');
    fs.writeFileSync(options.parameterFile, beautify(updatedContent));
    cli.output.verbose('=====================================');
    cli.output.verbose('Parameter file updated at: ' + options.parameterFile);
    cli.output.verbose('=====================================');
  });



};
