// This file has been autogenerated.

var profile = require('../../../lib/util/profile');

exports.getMockedProfile = function () {
  var newProfile = new profile.Profile();

  newProfile.addSubscription(new profile.Subscription({
    id: '24fb23e3-6ba3-41f0-9b6e-e41131d5d61e',
    name: 'AzureRT Powershell and SDK Testing',
    user: {
      name: 'user@domain.example',
      type: 'servicePrincipal'
    },
    tenantId: '72f988bf-86f1-41af-91ab-2d7cd011db47',
    state: 'Enabled',
    registeredProviders: [],
    _eventsCount: '1',
    isDefault: true
  }, newProfile.environments['AzureCloud']));

  return newProfile;
};

exports.setEnvironment = function() {
  process.env['AZURE_VM_TEST_LOCATION'] = 'southeastasia';
};

exports.scopes = [[function (nock) { 
var result = 
nock('http://management.azure.com:443')
  .get('/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/providers/Microsoft.Compute/virtualMachineScaleSets?api-version=2016-04-30-preview')
  .reply(200, "{\"value\":[{\"sku\":{\"name\":\"Standard_A0\",\"tier\":\"Standard\",\"capacity\":2},\"properties\":{\"singlePlacementGroup\":true,\"upgradePolicy\":{\"mode\":\"Automatic\"},\"virtualMachineProfile\":{\"osProfile\":{\"computerNamePrefix\":\"test\",\"adminUsername\":\"Foo12\",\"windowsConfiguration\":{\"provisionVMAgent\":true,\"enableAutomaticUpdates\":true},\"secrets\":[]},\"storageProfile\":{\"osDisk\":{\"createOption\":\"FromImage\",\"caching\":\"None\",\"managedDisk\":{\"storageAccountType\":\"Standard_LRS\"}},\"imageReference\":{\"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"WindowsServer\",\"sku\":\"2008-R2-SP1\",\"version\":\"2.0.20160617\"}},\"networkProfile\":{\"networkInterfaceConfigurations\":[{\"name\":\"test\",\"properties\":{\"primary\":true,\"ipConfigurations\":[{\"name\":\"test\",\"properties\":{\"subnet\":{\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/crptestps3976/providers/Microsoft.Network/virtualNetworks/vnetcrptestps3976/subnets/subnetcrptestps3976\"}}}]}}]},\"extensionProfile\":{\"extensions\":[]}},\"provisioningState\":\"Succeeded\",\"overprovision\":false,\"uniqueId\":\"2d1eb5e3-1a53-409c-90ec-c99040531d2b\"},\"type\":\"Microsoft.Compute/virtualMachineScaleSets\",\"location\":\"westus\",\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/CRPTESTPS3976/providers/Microsoft.Compute/virtualMachineScaleSets/vmsscrptestps3976\",\"name\":\"vmsscrptestps3976\"},{\"sku\":{\"name\":\"Standard_A0\",\"tier\":\"Standard\",\"capacity\":2},\"properties\":{\"singlePlacementGroup\":true,\"upgradePolicy\":{\"mode\":\"Automatic\"},\"virtualMachineProfile\":{\"osProfile\":{\"computerNamePrefix\":\"test\",\"adminUsername\":\"Foo12\",\"customData\":\"Q3VzdG9tIGRhdGE=\",\"windowsConfiguration\":{\"provisionVMAgent\":true,\"enableAutomaticUpdates\":true},\"secrets\":[]},\"storageProfile\":{\"osDisk\":{\"createOption\":\"FromImage\",\"caching\":\"None\",\"managedDisk\":{\"storageAccountType\":\"Standard_LRS\"}},\"imageReference\":{\"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"4.0.20151120\"},\"dataDisks\":[{\"lun\":1,\"createOption\":\"Empty\",\"caching\":\"None\",\"managedDisk\":{\"storageAccountType\":\"Standard_LRS\"},\"diskSizeGB\":128}]},\"networkProfile\":{\"networkInterfaceConfigurations\":[{\"name\":\"vmsstestnetconfig169\",\"properties\":{\"primary\":true,\"ipConfigurations\":[{\"name\":\"vmsstestnetconfig5873\",\"properties\":{\"subnet\":{\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/crp123testar72971/providers/Microsoft.Network/virtualNetworks/vn3122/subnets/sn7516\"}}}]}}]}},\"provisioningState\":\"Succeeded\",\"overprovision\":true,\"uniqueId\":\"83ea0d47-e2ac-4565-bd26-65e8f4daa533\"},\"type\":\"Microsoft.Compute/virtualMachineScaleSets\",\"location\":\"southeastasia\",\"tags\":{\"RG\":\"rg\",\"testTag\":\"1\"},\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/CRP123TESTAR72971/providers/Microsoft.Compute/virtualMachineScaleSets/vmss5976\",\"name\":\"vmss5976\"},{\"sku\":{\"name\":\"Standard_A0\",\"tier\":\"Standard\",\"capacity\":2},\"properties\":{\"singlePlacementGroup\":true,\"upgradePolicy\":{\"mode\":\"Automatic\"},\"virtualMachineProfile\":{\"osProfile\":{\"computerNamePrefix\":\"test\",\"adminUsername\":\"Foo12\",\"customData\":\"Q3VzdG9tIGRhdGE=\",\"windowsConfiguration\":{\"provisionVMAgent\":true,\"enableAutomaticUpdates\":true},\"secrets\":[]},\"storageProfile\":{\"osDisk\":{\"createOption\":\"FromImage\",\"caching\":\"None\",\"managedDisk\":{\"storageAccountType\":\"Standard_LRS\"}},\"imageReference\":{\"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"4.0.20151120\"},\"dataDisks\":[{\"lun\":1,\"createOption\":\"Empty\",\"caching\":\"None\",\"managedDisk\":{\"storageAccountType\":\"Standard_LRS\"},\"diskSizeGB\":128}]},\"networkProfile\":{\"networkInterfaceConfigurations\":[{\"name\":\"vmsstestnetconfig7040\",\"properties\":{\"primary\":true,\"ipConfigurations\":[{\"name\":\"vmsstestnetconfig7989\",\"properties\":{\"subnet\":{\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/crptestar1931/providers/Microsoft.Network/virtualNetworks/vn6333/subnets/sn1152\"}}}]}}]}},\"provisioningState\":\"Succeeded\",\"overprovision\":true,\"uniqueId\":\"8a378b0f-16cb-418b-9976-c6be67abd43e\"},\"type\":\"Microsoft.Compute/virtualMachineScaleSets\",\"location\":\"southeastasia\",\"tags\":{\"RG\":\"rg\",\"testTag\":\"1\"},\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/CRPTESTAR1931/providers/Microsoft.Compute/virtualMachineScaleSets/vmss422\",\"name\":\"vmss422\"},{\"sku\":{\"name\":\"Standard_A0\",\"tier\":\"Standard\",\"capacity\":2},\"properties\":{\"singlePlacementGroup\":true,\"upgradePolicy\":{\"mode\":\"Automatic\"},\"virtualMachineProfile\":{\"osProfile\":{\"computerNamePrefix\":\"test\",\"adminUsername\":\"Foo12\",\"customData\":\"Q3VzdG9tIGRhdGE=\",\"windowsConfiguration\":{\"provisionVMAgent\":true,\"enableAutomaticUpdates\":true},\"secrets\":[]},\"storageProfile\":{\"osDisk\":{\"createOption\":\"FromImage\",\"caching\":\"None\",\"managedDisk\":{\"storageAccountType\":\"Standard_LRS\"}},\"imageReference\":{\"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"4.0.20151120\"},\"dataDisks\":[{\"lun\":1,\"createOption\":\"Empty\",\"caching\":\"None\",\"managedDisk\":{\"storageAccountType\":\"Standard_LRS\"},\"diskSizeGB\":128}]},\"networkProfile\":{\"networkInterfaceConfigurations\":[{\"name\":\"vmsstestnetconfig164\",\"properties\":{\"primary\":true,\"ipConfigurations\":[{\"name\":\"vmsstestnetconfig7649\",\"properties\":{\"subnet\":{\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/crptestar27171/providers/Microsoft.Network/virtualNetworks/vn2391/subnets/sn5330\"}}}]}}]}},\"provisioningState\":\"Succeeded\",\"overprovision\":true,\"uniqueId\":\"9d983678-fc7d-4d32-be5e-8b0ad7c8757d\"},\"type\":\"Microsoft.Compute/virtualMachineScaleSets\",\"location\":\"southeastasia\",\"tags\":{\"RG\":\"rg\",\"testTag\":\"1\"},\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/CRPTESTAR27171/providers/Microsoft.Compute/virtualMachineScaleSets/vmss7147\",\"name\":\"vmss7147\"},{\"sku\":{\"name\":\"Standard_A0\",\"tier\":\"Standard\",\"capacity\":2},\"properties\":{\"singlePlacementGroup\":true,\"upgradePolicy\":{\"mode\":\"Automatic\"},\"virtualMachineProfile\":{\"osProfile\":{\"computerNamePrefix\":\"test\",\"adminUsername\":\"Foo12\",\"customData\":\"Q3VzdG9tIGRhdGE=\",\"windowsConfiguration\":{\"provisionVMAgent\":true,\"enableAutomaticUpdates\":true},\"secrets\":[]},\"storageProfile\":{\"osDisk\":{\"createOption\":\"FromImage\",\"caching\":\"None\",\"managedDisk\":{\"storageAccountType\":\"Standard_LRS\"}},\"imageReference\":{\"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"4.0.20151120\"},\"dataDisks\":[{\"lun\":1,\"createOption\":\"Empty\",\"caching\":\"None\",\"managedDisk\":{\"storageAccountType\":\"Standard_LRS\"},\"diskSizeGB\":128}]},\"networkProfile\":{\"networkInterfaceConfigurations\":[{\"name\":\"vmsstestnetconfig6229\",\"properties\":{\"primary\":true,\"ipConfigurations\":[{\"name\":\"vmsstestnetconfig3499\",\"properties\":{\"subnet\":{\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/crptestar69181/providers/Microsoft.Network/virtualNetworks/vn367/subnets/sn9248\"}}}]}}]}},\"provisioningState\":\"Succeeded\",\"overprovision\":true,\"uniqueId\":\"34d55fb9-5c5b-43ad-b881-6bba57d30568\"},\"type\":\"Microsoft.Compute/virtualMachineScaleSets\",\"location\":\"southeastasia\",\"tags\":{\"RG\":\"rg\",\"testTag\":\"1\"},\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/CRPTESTAR69181/providers/Microsoft.Compute/virtualMachineScaleSets/vmss4808\",\"name\":\"vmss4808\"},{\"sku\":{\"name\":\"Standard_DS1\",\"tier\":\"Standard\",\"capacity\":10},\"properties\":{\"singlePlacementGroup\":true,\"upgradePolicy\":{\"mode\":\"Manual\"},\"virtualMachineProfile\":{\"osProfile\":{\"computerNamePrefix\":\"test\",\"adminUsername\":\"azureuser\",\"windowsConfiguration\":{\"provisionVMAgent\":true,\"enableAutomaticUpdates\":true},\"secrets\":[]},\"storageProfile\":{\"osDisk\":{\"createOption\":\"FromImage\",\"caching\":\"None\",\"managedDisk\":{\"storageAccountType\":\"Premium_LRS\"}},\"imageReference\":{\"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"latest\"},\"dataDisks\":[{\"lun\":0,\"createOption\":\"Empty\",\"caching\":\"None\",\"managedDisk\":{\"storageAccountType\":\"Premium_LRS\"},\"diskSizeGB\":32}]},\"networkProfile\":{\"networkInterfaceConfigurations\":[{\"name\":\"test\",\"properties\":{\"primary\":true,\"ipConfigurations\":[{\"name\":\"test\",\"properties\":{\"subnet\":{\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/xplatTstVmssGCreate3280/providers/Microsoft.Network/virtualNetworks/xplattestvnet6811/subnets/xplattestsubnet9872\"}}}]}}]},\"extensionProfile\":{\"extensions\":[{\"properties\":{\"publisher\":\"Microsoft.Compute\",\"type\":\"VMAccessAgent\",\"typeHandlerVersion\":\"2.0\",\"autoUpgradeMinorVersion\":true,\"settings\":{}},\"name\":\"test\"},{\"properties\":{\"publisher\":\"Microsoft.Compute\",\"type\":\"BGInfo\",\"typeHandlerVersion\":\"2.1\",\"autoUpgradeMinorVersion\":true},\"name\":\"test1\"}]}},\"provisioningState\":\"Succeeded\",\"overprovision\":false,\"uniqueId\":\"153d9884-ae55-4d64-b44b-ae4719e0ae86\"},\"type\":\"Microsoft.Compute/virtualMachineScaleSets\",\"location\":\"southeastasia\",\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/XPLATTSTVMSSGCREATE3280/providers/Microsoft.Compute/virtualMachineScaleSets/xplattestvmss5\",\"name\":\"xplattestvmss5\"},{\"sku\":{\"name\":\"Standard_DS1\",\"tier\":\"Standard\",\"capacity\":10},\"properties\":{\"singlePlacementGroup\":true,\"upgradePolicy\":{\"mode\":\"Manual\"},\"virtualMachineProfile\":{\"osProfile\":{\"computerNamePrefix\":\"test\",\"adminUsername\":\"azureuser\",\"windowsConfiguration\":{\"provisionVMAgent\":true,\"enableAutomaticUpdates\":true},\"secrets\":[]},\"storageProfile\":{\"osDisk\":{\"vhdContainers\":[\"https://xplatteststorage16075.blob.core.windows.net/xplatteststoragecnt14469\",\"https://xplatteststorage22925.blob.core.windows.net/xplatteststoragecnt21689\",\"https://xplatteststorage31908.blob.core.windows.net/xplatteststoragecnt39912\"],\"name\":\"test\",\"createOption\":\"FromImage\",\"caching\":\"None\"},\"imageReference\":{\"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"latest\"}},\"networkProfile\":{\"networkInterfaceConfigurations\":[{\"name\":\"test\",\"properties\":{\"primary\":true,\"ipConfigurations\":[{\"name\":\"test\",\"properties\":{\"subnet\":{\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/xplatTstVmssGCreate7338/providers/Microsoft.Network/virtualNetworks/xplattestvnet1141/subnets/xplattestsubnet7338\"}}}]}}]},\"extensionProfile\":{\"extensions\":[{\"properties\":{\"publisher\":\"Microsoft.Compute\",\"type\":\"VMAccessAgent\",\"typeHandlerVersion\":\"2.0\",\"autoUpgradeMinorVersion\":true,\"settings\":{}},\"name\":\"test\"},{\"properties\":{\"publisher\":\"Microsoft.Compute\",\"type\":\"BGInfo\",\"typeHandlerVersion\":\"2.1\",\"autoUpgradeMinorVersion\":true},\"name\":\"test1\"}]}},\"provisioningState\":\"Failed\",\"overprovision\":false,\"uniqueId\":\"b1a08cda-2d5a-4e7d-b042-3fbcd1da0fbe\"},\"type\":\"Microsoft.Compute/virtualMachineScaleSets\",\"location\":\"southeastasia\",\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/XPLATTSTVMSSGCREATE7338/providers/Microsoft.Compute/virtualMachineScaleSets/xplattestvmss5\",\"name\":\"xplattestvmss5\"}]}", { 'cache-control': 'no-cache',
  pragma: 'no-cache',
  'content-type': 'application/json; charset=utf-8',
  expires: '-1',
  'x-ms-original-request-ids': 'e130025d-674f-4cbb-9024-1067e7501821, 8c162ff4-084b-41ce-a249-46479edffb1b',
  'x-ms-ratelimit-remaining-subscription-reads': '14996',
  'x-ms-request-id': '613a79f2-6aea-4802-93ce-f9a158c17e4a',
  'x-ms-correlation-request-id': '613a79f2-6aea-4802-93ce-f9a158c17e4a',
  'x-ms-routing-request-id': 'CENTRALUS:20170205T224455Z:613a79f2-6aea-4802-93ce-f9a158c17e4a',
  'strict-transport-security': 'max-age=31536000; includeSubDomains',
  date: 'Sun, 05 Feb 2017 22:44:55 GMT',
  connection: 'close',
  'content-length': '10871' });
 return result; },
function (nock) { 
var result = 
nock('https://management.azure.com:443')
  .get('/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/providers/Microsoft.Compute/virtualMachineScaleSets?api-version=2016-04-30-preview')
  .reply(200, "{\"value\":[{\"sku\":{\"name\":\"Standard_A0\",\"tier\":\"Standard\",\"capacity\":2},\"properties\":{\"singlePlacementGroup\":true,\"upgradePolicy\":{\"mode\":\"Automatic\"},\"virtualMachineProfile\":{\"osProfile\":{\"computerNamePrefix\":\"test\",\"adminUsername\":\"Foo12\",\"windowsConfiguration\":{\"provisionVMAgent\":true,\"enableAutomaticUpdates\":true},\"secrets\":[]},\"storageProfile\":{\"osDisk\":{\"createOption\":\"FromImage\",\"caching\":\"None\",\"managedDisk\":{\"storageAccountType\":\"Standard_LRS\"}},\"imageReference\":{\"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"WindowsServer\",\"sku\":\"2008-R2-SP1\",\"version\":\"2.0.20160617\"}},\"networkProfile\":{\"networkInterfaceConfigurations\":[{\"name\":\"test\",\"properties\":{\"primary\":true,\"ipConfigurations\":[{\"name\":\"test\",\"properties\":{\"subnet\":{\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/crptestps3976/providers/Microsoft.Network/virtualNetworks/vnetcrptestps3976/subnets/subnetcrptestps3976\"}}}]}}]},\"extensionProfile\":{\"extensions\":[]}},\"provisioningState\":\"Succeeded\",\"overprovision\":false,\"uniqueId\":\"2d1eb5e3-1a53-409c-90ec-c99040531d2b\"},\"type\":\"Microsoft.Compute/virtualMachineScaleSets\",\"location\":\"westus\",\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/CRPTESTPS3976/providers/Microsoft.Compute/virtualMachineScaleSets/vmsscrptestps3976\",\"name\":\"vmsscrptestps3976\"},{\"sku\":{\"name\":\"Standard_A0\",\"tier\":\"Standard\",\"capacity\":2},\"properties\":{\"singlePlacementGroup\":true,\"upgradePolicy\":{\"mode\":\"Automatic\"},\"virtualMachineProfile\":{\"osProfile\":{\"computerNamePrefix\":\"test\",\"adminUsername\":\"Foo12\",\"customData\":\"Q3VzdG9tIGRhdGE=\",\"windowsConfiguration\":{\"provisionVMAgent\":true,\"enableAutomaticUpdates\":true},\"secrets\":[]},\"storageProfile\":{\"osDisk\":{\"createOption\":\"FromImage\",\"caching\":\"None\",\"managedDisk\":{\"storageAccountType\":\"Standard_LRS\"}},\"imageReference\":{\"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"4.0.20151120\"},\"dataDisks\":[{\"lun\":1,\"createOption\":\"Empty\",\"caching\":\"None\",\"managedDisk\":{\"storageAccountType\":\"Standard_LRS\"},\"diskSizeGB\":128}]},\"networkProfile\":{\"networkInterfaceConfigurations\":[{\"name\":\"vmsstestnetconfig169\",\"properties\":{\"primary\":true,\"ipConfigurations\":[{\"name\":\"vmsstestnetconfig5873\",\"properties\":{\"subnet\":{\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/crp123testar72971/providers/Microsoft.Network/virtualNetworks/vn3122/subnets/sn7516\"}}}]}}]}},\"provisioningState\":\"Succeeded\",\"overprovision\":true,\"uniqueId\":\"83ea0d47-e2ac-4565-bd26-65e8f4daa533\"},\"type\":\"Microsoft.Compute/virtualMachineScaleSets\",\"location\":\"southeastasia\",\"tags\":{\"RG\":\"rg\",\"testTag\":\"1\"},\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/CRP123TESTAR72971/providers/Microsoft.Compute/virtualMachineScaleSets/vmss5976\",\"name\":\"vmss5976\"},{\"sku\":{\"name\":\"Standard_A0\",\"tier\":\"Standard\",\"capacity\":2},\"properties\":{\"singlePlacementGroup\":true,\"upgradePolicy\":{\"mode\":\"Automatic\"},\"virtualMachineProfile\":{\"osProfile\":{\"computerNamePrefix\":\"test\",\"adminUsername\":\"Foo12\",\"customData\":\"Q3VzdG9tIGRhdGE=\",\"windowsConfiguration\":{\"provisionVMAgent\":true,\"enableAutomaticUpdates\":true},\"secrets\":[]},\"storageProfile\":{\"osDisk\":{\"createOption\":\"FromImage\",\"caching\":\"None\",\"managedDisk\":{\"storageAccountType\":\"Standard_LRS\"}},\"imageReference\":{\"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"4.0.20151120\"},\"dataDisks\":[{\"lun\":1,\"createOption\":\"Empty\",\"caching\":\"None\",\"managedDisk\":{\"storageAccountType\":\"Standard_LRS\"},\"diskSizeGB\":128}]},\"networkProfile\":{\"networkInterfaceConfigurations\":[{\"name\":\"vmsstestnetconfig7040\",\"properties\":{\"primary\":true,\"ipConfigurations\":[{\"name\":\"vmsstestnetconfig7989\",\"properties\":{\"subnet\":{\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/crptestar1931/providers/Microsoft.Network/virtualNetworks/vn6333/subnets/sn1152\"}}}]}}]}},\"provisioningState\":\"Succeeded\",\"overprovision\":true,\"uniqueId\":\"8a378b0f-16cb-418b-9976-c6be67abd43e\"},\"type\":\"Microsoft.Compute/virtualMachineScaleSets\",\"location\":\"southeastasia\",\"tags\":{\"RG\":\"rg\",\"testTag\":\"1\"},\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/CRPTESTAR1931/providers/Microsoft.Compute/virtualMachineScaleSets/vmss422\",\"name\":\"vmss422\"},{\"sku\":{\"name\":\"Standard_A0\",\"tier\":\"Standard\",\"capacity\":2},\"properties\":{\"singlePlacementGroup\":true,\"upgradePolicy\":{\"mode\":\"Automatic\"},\"virtualMachineProfile\":{\"osProfile\":{\"computerNamePrefix\":\"test\",\"adminUsername\":\"Foo12\",\"customData\":\"Q3VzdG9tIGRhdGE=\",\"windowsConfiguration\":{\"provisionVMAgent\":true,\"enableAutomaticUpdates\":true},\"secrets\":[]},\"storageProfile\":{\"osDisk\":{\"createOption\":\"FromImage\",\"caching\":\"None\",\"managedDisk\":{\"storageAccountType\":\"Standard_LRS\"}},\"imageReference\":{\"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"4.0.20151120\"},\"dataDisks\":[{\"lun\":1,\"createOption\":\"Empty\",\"caching\":\"None\",\"managedDisk\":{\"storageAccountType\":\"Standard_LRS\"},\"diskSizeGB\":128}]},\"networkProfile\":{\"networkInterfaceConfigurations\":[{\"name\":\"vmsstestnetconfig164\",\"properties\":{\"primary\":true,\"ipConfigurations\":[{\"name\":\"vmsstestnetconfig7649\",\"properties\":{\"subnet\":{\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/crptestar27171/providers/Microsoft.Network/virtualNetworks/vn2391/subnets/sn5330\"}}}]}}]}},\"provisioningState\":\"Succeeded\",\"overprovision\":true,\"uniqueId\":\"9d983678-fc7d-4d32-be5e-8b0ad7c8757d\"},\"type\":\"Microsoft.Compute/virtualMachineScaleSets\",\"location\":\"southeastasia\",\"tags\":{\"RG\":\"rg\",\"testTag\":\"1\"},\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/CRPTESTAR27171/providers/Microsoft.Compute/virtualMachineScaleSets/vmss7147\",\"name\":\"vmss7147\"},{\"sku\":{\"name\":\"Standard_A0\",\"tier\":\"Standard\",\"capacity\":2},\"properties\":{\"singlePlacementGroup\":true,\"upgradePolicy\":{\"mode\":\"Automatic\"},\"virtualMachineProfile\":{\"osProfile\":{\"computerNamePrefix\":\"test\",\"adminUsername\":\"Foo12\",\"customData\":\"Q3VzdG9tIGRhdGE=\",\"windowsConfiguration\":{\"provisionVMAgent\":true,\"enableAutomaticUpdates\":true},\"secrets\":[]},\"storageProfile\":{\"osDisk\":{\"createOption\":\"FromImage\",\"caching\":\"None\",\"managedDisk\":{\"storageAccountType\":\"Standard_LRS\"}},\"imageReference\":{\"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"4.0.20151120\"},\"dataDisks\":[{\"lun\":1,\"createOption\":\"Empty\",\"caching\":\"None\",\"managedDisk\":{\"storageAccountType\":\"Standard_LRS\"},\"diskSizeGB\":128}]},\"networkProfile\":{\"networkInterfaceConfigurations\":[{\"name\":\"vmsstestnetconfig6229\",\"properties\":{\"primary\":true,\"ipConfigurations\":[{\"name\":\"vmsstestnetconfig3499\",\"properties\":{\"subnet\":{\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/crptestar69181/providers/Microsoft.Network/virtualNetworks/vn367/subnets/sn9248\"}}}]}}]}},\"provisioningState\":\"Succeeded\",\"overprovision\":true,\"uniqueId\":\"34d55fb9-5c5b-43ad-b881-6bba57d30568\"},\"type\":\"Microsoft.Compute/virtualMachineScaleSets\",\"location\":\"southeastasia\",\"tags\":{\"RG\":\"rg\",\"testTag\":\"1\"},\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/CRPTESTAR69181/providers/Microsoft.Compute/virtualMachineScaleSets/vmss4808\",\"name\":\"vmss4808\"},{\"sku\":{\"name\":\"Standard_DS1\",\"tier\":\"Standard\",\"capacity\":10},\"properties\":{\"singlePlacementGroup\":true,\"upgradePolicy\":{\"mode\":\"Manual\"},\"virtualMachineProfile\":{\"osProfile\":{\"computerNamePrefix\":\"test\",\"adminUsername\":\"azureuser\",\"windowsConfiguration\":{\"provisionVMAgent\":true,\"enableAutomaticUpdates\":true},\"secrets\":[]},\"storageProfile\":{\"osDisk\":{\"createOption\":\"FromImage\",\"caching\":\"None\",\"managedDisk\":{\"storageAccountType\":\"Premium_LRS\"}},\"imageReference\":{\"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"latest\"},\"dataDisks\":[{\"lun\":0,\"createOption\":\"Empty\",\"caching\":\"None\",\"managedDisk\":{\"storageAccountType\":\"Premium_LRS\"},\"diskSizeGB\":32}]},\"networkProfile\":{\"networkInterfaceConfigurations\":[{\"name\":\"test\",\"properties\":{\"primary\":true,\"ipConfigurations\":[{\"name\":\"test\",\"properties\":{\"subnet\":{\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/xplatTstVmssGCreate3280/providers/Microsoft.Network/virtualNetworks/xplattestvnet6811/subnets/xplattestsubnet9872\"}}}]}}]},\"extensionProfile\":{\"extensions\":[{\"properties\":{\"publisher\":\"Microsoft.Compute\",\"type\":\"VMAccessAgent\",\"typeHandlerVersion\":\"2.0\",\"autoUpgradeMinorVersion\":true,\"settings\":{}},\"name\":\"test\"},{\"properties\":{\"publisher\":\"Microsoft.Compute\",\"type\":\"BGInfo\",\"typeHandlerVersion\":\"2.1\",\"autoUpgradeMinorVersion\":true},\"name\":\"test1\"}]}},\"provisioningState\":\"Succeeded\",\"overprovision\":false,\"uniqueId\":\"153d9884-ae55-4d64-b44b-ae4719e0ae86\"},\"type\":\"Microsoft.Compute/virtualMachineScaleSets\",\"location\":\"southeastasia\",\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/XPLATTSTVMSSGCREATE3280/providers/Microsoft.Compute/virtualMachineScaleSets/xplattestvmss5\",\"name\":\"xplattestvmss5\"},{\"sku\":{\"name\":\"Standard_DS1\",\"tier\":\"Standard\",\"capacity\":10},\"properties\":{\"singlePlacementGroup\":true,\"upgradePolicy\":{\"mode\":\"Manual\"},\"virtualMachineProfile\":{\"osProfile\":{\"computerNamePrefix\":\"test\",\"adminUsername\":\"azureuser\",\"windowsConfiguration\":{\"provisionVMAgent\":true,\"enableAutomaticUpdates\":true},\"secrets\":[]},\"storageProfile\":{\"osDisk\":{\"vhdContainers\":[\"https://xplatteststorage16075.blob.core.windows.net/xplatteststoragecnt14469\",\"https://xplatteststorage22925.blob.core.windows.net/xplatteststoragecnt21689\",\"https://xplatteststorage31908.blob.core.windows.net/xplatteststoragecnt39912\"],\"name\":\"test\",\"createOption\":\"FromImage\",\"caching\":\"None\"},\"imageReference\":{\"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"latest\"}},\"networkProfile\":{\"networkInterfaceConfigurations\":[{\"name\":\"test\",\"properties\":{\"primary\":true,\"ipConfigurations\":[{\"name\":\"test\",\"properties\":{\"subnet\":{\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/xplatTstVmssGCreate7338/providers/Microsoft.Network/virtualNetworks/xplattestvnet1141/subnets/xplattestsubnet7338\"}}}]}}]},\"extensionProfile\":{\"extensions\":[{\"properties\":{\"publisher\":\"Microsoft.Compute\",\"type\":\"VMAccessAgent\",\"typeHandlerVersion\":\"2.0\",\"autoUpgradeMinorVersion\":true,\"settings\":{}},\"name\":\"test\"},{\"properties\":{\"publisher\":\"Microsoft.Compute\",\"type\":\"BGInfo\",\"typeHandlerVersion\":\"2.1\",\"autoUpgradeMinorVersion\":true},\"name\":\"test1\"}]}},\"provisioningState\":\"Failed\",\"overprovision\":false,\"uniqueId\":\"b1a08cda-2d5a-4e7d-b042-3fbcd1da0fbe\"},\"type\":\"Microsoft.Compute/virtualMachineScaleSets\",\"location\":\"southeastasia\",\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/XPLATTSTVMSSGCREATE7338/providers/Microsoft.Compute/virtualMachineScaleSets/xplattestvmss5\",\"name\":\"xplattestvmss5\"}]}", { 'cache-control': 'no-cache',
  pragma: 'no-cache',
  'content-type': 'application/json; charset=utf-8',
  expires: '-1',
  'x-ms-original-request-ids': 'e130025d-674f-4cbb-9024-1067e7501821, 8c162ff4-084b-41ce-a249-46479edffb1b',
  'x-ms-ratelimit-remaining-subscription-reads': '14996',
  'x-ms-request-id': '613a79f2-6aea-4802-93ce-f9a158c17e4a',
  'x-ms-correlation-request-id': '613a79f2-6aea-4802-93ce-f9a158c17e4a',
  'x-ms-routing-request-id': 'CENTRALUS:20170205T224455Z:613a79f2-6aea-4802-93ce-f9a158c17e4a',
  'strict-transport-security': 'max-age=31536000; includeSubDomains',
  date: 'Sun, 05 Feb 2017 22:44:55 GMT',
  connection: 'close',
  'content-length': '10871' });
 return result; },
function (nock) { 
var result = 
nock('http://management.azure.com:443')
  .get('/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/xplatTstVmssGCreate3280/providers/Microsoft.Compute/virtualMachineScaleSets?api-version=2016-04-30-preview')
  .reply(200, "{\r\n  \"value\": [\r\n    {\r\n      \"sku\": {\r\n        \"name\": \"Standard_DS1\",\r\n        \"tier\": \"Standard\",\r\n        \"capacity\": 10\r\n      },\r\n      \"properties\": {\r\n        \"singlePlacementGroup\": true,\r\n        \"upgradePolicy\": {\r\n          \"mode\": \"Manual\"\r\n        },\r\n        \"virtualMachineProfile\": {\r\n          \"osProfile\": {\r\n            \"computerNamePrefix\": \"test\",\r\n            \"adminUsername\": \"azureuser\",\r\n            \"windowsConfiguration\": {\r\n              \"provisionVMAgent\": true,\r\n              \"enableAutomaticUpdates\": true\r\n            },\r\n            \"secrets\": []\r\n          },\r\n          \"storageProfile\": {\r\n            \"osDisk\": {\r\n              \"createOption\": \"FromImage\",\r\n              \"caching\": \"None\",\r\n              \"managedDisk\": {\r\n                \"storageAccountType\": \"Premium_LRS\"\r\n              }\r\n            },\r\n            \"imageReference\": {\r\n              \"publisher\": \"MicrosoftWindowsServer\",\r\n              \"offer\": \"WindowsServer\",\r\n              \"sku\": \"2012-R2-Datacenter\",\r\n              \"version\": \"latest\"\r\n            },\r\n            \"dataDisks\": [\r\n              {\r\n                \"lun\": 0,\r\n                \"createOption\": \"Empty\",\r\n                \"caching\": \"None\",\r\n                \"managedDisk\": {\r\n                  \"storageAccountType\": \"Premium_LRS\"\r\n                },\r\n                \"diskSizeGB\": 32\r\n              }\r\n            ]\r\n          },\r\n          \"networkProfile\": {\"networkInterfaceConfigurations\":[{\"name\":\"test\",\"properties\":{\"primary\":true,\"ipConfigurations\":[{\"name\":\"test\",\"properties\":{\"subnet\":{\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/xplatTstVmssGCreate3280/providers/Microsoft.Network/virtualNetworks/xplattestvnet6811/subnets/xplattestsubnet9872\"}}}]}}]},\r\n          \"extensionProfile\": {\r\n            \"extensions\": [\r\n              {\r\n                \"properties\": {\r\n                  \"publisher\": \"Microsoft.Compute\",\r\n                  \"type\": \"VMAccessAgent\",\r\n                  \"typeHandlerVersion\": \"2.0\",\r\n                  \"autoUpgradeMinorVersion\": true,\r\n                  \"settings\": {}\r\n                },\r\n                \"name\": \"test\"\r\n              },\r\n              {\r\n                \"properties\": {\r\n                  \"publisher\": \"Microsoft.Compute\",\r\n                  \"type\": \"BGInfo\",\r\n                  \"typeHandlerVersion\": \"2.1\",\r\n                  \"autoUpgradeMinorVersion\": true\r\n                },\r\n                \"name\": \"test1\"\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        \"provisioningState\": \"Succeeded\",\r\n        \"overprovision\": false,\r\n        \"uniqueId\": \"153d9884-ae55-4d64-b44b-ae4719e0ae86\"\r\n      },\r\n      \"type\": \"Microsoft.Compute/virtualMachineScaleSets\",\r\n      \"location\": \"southeastasia\",\r\n      \"id\": \"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/xplatTstVmssGCreate3280/providers/Microsoft.Compute/virtualMachineScaleSets/xplattestvmss5\",\r\n      \"name\": \"xplattestvmss5\"\r\n    }\r\n  ]\r\n}", { 'cache-control': 'no-cache',
  pragma: 'no-cache',
  'content-length': '2998',
  'content-type': 'application/json; charset=utf-8',
  expires: '-1',
  'strict-transport-security': 'max-age=31536000; includeSubDomains',
  'x-ms-served-by': 'd8479ab9-b4a1-4ca4-bfe5-eb2106eeb54c_131281312467851412',
  'x-ms-request-id': '06d70b63-84c2-44c3-abaa-8e3eac97b6ac',
  server: 'Microsoft-HTTPAPI/2.0',
  'x-ms-ratelimit-remaining-subscription-reads': '14999',
  'x-ms-correlation-request-id': '1c2ddf6d-5804-4cc7-a7cb-77bad2d2f8b5',
  'x-ms-routing-request-id': 'CENTRALUS:20170205T224457Z:1c2ddf6d-5804-4cc7-a7cb-77bad2d2f8b5',
  date: 'Sun, 05 Feb 2017 22:44:56 GMT',
  connection: 'close' });
 return result; },
function (nock) { 
var result = 
nock('https://management.azure.com:443')
  .get('/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/xplatTstVmssGCreate3280/providers/Microsoft.Compute/virtualMachineScaleSets?api-version=2016-04-30-preview')
  .reply(200, "{\r\n  \"value\": [\r\n    {\r\n      \"sku\": {\r\n        \"name\": \"Standard_DS1\",\r\n        \"tier\": \"Standard\",\r\n        \"capacity\": 10\r\n      },\r\n      \"properties\": {\r\n        \"singlePlacementGroup\": true,\r\n        \"upgradePolicy\": {\r\n          \"mode\": \"Manual\"\r\n        },\r\n        \"virtualMachineProfile\": {\r\n          \"osProfile\": {\r\n            \"computerNamePrefix\": \"test\",\r\n            \"adminUsername\": \"azureuser\",\r\n            \"windowsConfiguration\": {\r\n              \"provisionVMAgent\": true,\r\n              \"enableAutomaticUpdates\": true\r\n            },\r\n            \"secrets\": []\r\n          },\r\n          \"storageProfile\": {\r\n            \"osDisk\": {\r\n              \"createOption\": \"FromImage\",\r\n              \"caching\": \"None\",\r\n              \"managedDisk\": {\r\n                \"storageAccountType\": \"Premium_LRS\"\r\n              }\r\n            },\r\n            \"imageReference\": {\r\n              \"publisher\": \"MicrosoftWindowsServer\",\r\n              \"offer\": \"WindowsServer\",\r\n              \"sku\": \"2012-R2-Datacenter\",\r\n              \"version\": \"latest\"\r\n            },\r\n            \"dataDisks\": [\r\n              {\r\n                \"lun\": 0,\r\n                \"createOption\": \"Empty\",\r\n                \"caching\": \"None\",\r\n                \"managedDisk\": {\r\n                  \"storageAccountType\": \"Premium_LRS\"\r\n                },\r\n                \"diskSizeGB\": 32\r\n              }\r\n            ]\r\n          },\r\n          \"networkProfile\": {\"networkInterfaceConfigurations\":[{\"name\":\"test\",\"properties\":{\"primary\":true,\"ipConfigurations\":[{\"name\":\"test\",\"properties\":{\"subnet\":{\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/xplatTstVmssGCreate3280/providers/Microsoft.Network/virtualNetworks/xplattestvnet6811/subnets/xplattestsubnet9872\"}}}]}}]},\r\n          \"extensionProfile\": {\r\n            \"extensions\": [\r\n              {\r\n                \"properties\": {\r\n                  \"publisher\": \"Microsoft.Compute\",\r\n                  \"type\": \"VMAccessAgent\",\r\n                  \"typeHandlerVersion\": \"2.0\",\r\n                  \"autoUpgradeMinorVersion\": true,\r\n                  \"settings\": {}\r\n                },\r\n                \"name\": \"test\"\r\n              },\r\n              {\r\n                \"properties\": {\r\n                  \"publisher\": \"Microsoft.Compute\",\r\n                  \"type\": \"BGInfo\",\r\n                  \"typeHandlerVersion\": \"2.1\",\r\n                  \"autoUpgradeMinorVersion\": true\r\n                },\r\n                \"name\": \"test1\"\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        \"provisioningState\": \"Succeeded\",\r\n        \"overprovision\": false,\r\n        \"uniqueId\": \"153d9884-ae55-4d64-b44b-ae4719e0ae86\"\r\n      },\r\n      \"type\": \"Microsoft.Compute/virtualMachineScaleSets\",\r\n      \"location\": \"southeastasia\",\r\n      \"id\": \"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/xplatTstVmssGCreate3280/providers/Microsoft.Compute/virtualMachineScaleSets/xplattestvmss5\",\r\n      \"name\": \"xplattestvmss5\"\r\n    }\r\n  ]\r\n}", { 'cache-control': 'no-cache',
  pragma: 'no-cache',
  'content-length': '2998',
  'content-type': 'application/json; charset=utf-8',
  expires: '-1',
  'strict-transport-security': 'max-age=31536000; includeSubDomains',
  'x-ms-served-by': 'd8479ab9-b4a1-4ca4-bfe5-eb2106eeb54c_131281312467851412',
  'x-ms-request-id': '06d70b63-84c2-44c3-abaa-8e3eac97b6ac',
  server: 'Microsoft-HTTPAPI/2.0',
  'x-ms-ratelimit-remaining-subscription-reads': '14999',
  'x-ms-correlation-request-id': '1c2ddf6d-5804-4cc7-a7cb-77bad2d2f8b5',
  'x-ms-routing-request-id': 'CENTRALUS:20170205T224457Z:1c2ddf6d-5804-4cc7-a7cb-77bad2d2f8b5',
  date: 'Sun, 05 Feb 2017 22:44:56 GMT',
  connection: 'close' });
 return result; },
function (nock) { 
var result = 
nock('http://management.azure.com:443')
  .get('/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/xplatTstVmssGCreate3280/providers/Microsoft.Compute/virtualMachineScaleSets?api-version=2016-04-30-preview')
  .reply(200, "{\r\n  \"value\": [\r\n    {\r\n      \"sku\": {\r\n        \"name\": \"Standard_DS1\",\r\n        \"tier\": \"Standard\",\r\n        \"capacity\": 10\r\n      },\r\n      \"properties\": {\r\n        \"singlePlacementGroup\": true,\r\n        \"upgradePolicy\": {\r\n          \"mode\": \"Manual\"\r\n        },\r\n        \"virtualMachineProfile\": {\r\n          \"osProfile\": {\r\n            \"computerNamePrefix\": \"test\",\r\n            \"adminUsername\": \"azureuser\",\r\n            \"windowsConfiguration\": {\r\n              \"provisionVMAgent\": true,\r\n              \"enableAutomaticUpdates\": true\r\n            },\r\n            \"secrets\": []\r\n          },\r\n          \"storageProfile\": {\r\n            \"osDisk\": {\r\n              \"createOption\": \"FromImage\",\r\n              \"caching\": \"None\",\r\n              \"managedDisk\": {\r\n                \"storageAccountType\": \"Premium_LRS\"\r\n              }\r\n            },\r\n            \"imageReference\": {\r\n              \"publisher\": \"MicrosoftWindowsServer\",\r\n              \"offer\": \"WindowsServer\",\r\n              \"sku\": \"2012-R2-Datacenter\",\r\n              \"version\": \"latest\"\r\n            },\r\n            \"dataDisks\": [\r\n              {\r\n                \"lun\": 0,\r\n                \"createOption\": \"Empty\",\r\n                \"caching\": \"None\",\r\n                \"managedDisk\": {\r\n                  \"storageAccountType\": \"Premium_LRS\"\r\n                },\r\n                \"diskSizeGB\": 32\r\n              }\r\n            ]\r\n          },\r\n          \"networkProfile\": {\"networkInterfaceConfigurations\":[{\"name\":\"test\",\"properties\":{\"primary\":true,\"ipConfigurations\":[{\"name\":\"test\",\"properties\":{\"subnet\":{\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/xplatTstVmssGCreate3280/providers/Microsoft.Network/virtualNetworks/xplattestvnet6811/subnets/xplattestsubnet9872\"}}}]}}]},\r\n          \"extensionProfile\": {\r\n            \"extensions\": [\r\n              {\r\n                \"properties\": {\r\n                  \"publisher\": \"Microsoft.Compute\",\r\n                  \"type\": \"VMAccessAgent\",\r\n                  \"typeHandlerVersion\": \"2.0\",\r\n                  \"autoUpgradeMinorVersion\": true,\r\n                  \"settings\": {}\r\n                },\r\n                \"name\": \"test\"\r\n              },\r\n              {\r\n                \"properties\": {\r\n                  \"publisher\": \"Microsoft.Compute\",\r\n                  \"type\": \"BGInfo\",\r\n                  \"typeHandlerVersion\": \"2.1\",\r\n                  \"autoUpgradeMinorVersion\": true\r\n                },\r\n                \"name\": \"test1\"\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        \"provisioningState\": \"Succeeded\",\r\n        \"overprovision\": false,\r\n        \"uniqueId\": \"153d9884-ae55-4d64-b44b-ae4719e0ae86\"\r\n      },\r\n      \"type\": \"Microsoft.Compute/virtualMachineScaleSets\",\r\n      \"location\": \"southeastasia\",\r\n      \"id\": \"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/xplatTstVmssGCreate3280/providers/Microsoft.Compute/virtualMachineScaleSets/xplattestvmss5\",\r\n      \"name\": \"xplattestvmss5\"\r\n    }\r\n  ]\r\n}", { 'cache-control': 'no-cache',
  pragma: 'no-cache',
  'content-length': '2998',
  'content-type': 'application/json; charset=utf-8',
  expires: '-1',
  'strict-transport-security': 'max-age=31536000; includeSubDomains',
  'x-ms-served-by': 'd8479ab9-b4a1-4ca4-bfe5-eb2106eeb54c_131281312467851412',
  'x-ms-request-id': 'fbc7c688-a919-4ec9-a1d7-9ae42693454c',
  server: 'Microsoft-HTTPAPI/2.0',
  'x-ms-ratelimit-remaining-subscription-reads': '14998',
  'x-ms-correlation-request-id': '67714e82-7f8f-41f9-8264-9d0dc81a8e41',
  'x-ms-routing-request-id': 'CENTRALUS:20170205T224458Z:67714e82-7f8f-41f9-8264-9d0dc81a8e41',
  date: 'Sun, 05 Feb 2017 22:44:57 GMT',
  connection: 'close' });
 return result; },
function (nock) { 
var result = 
nock('https://management.azure.com:443')
  .get('/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/xplatTstVmssGCreate3280/providers/Microsoft.Compute/virtualMachineScaleSets?api-version=2016-04-30-preview')
  .reply(200, "{\r\n  \"value\": [\r\n    {\r\n      \"sku\": {\r\n        \"name\": \"Standard_DS1\",\r\n        \"tier\": \"Standard\",\r\n        \"capacity\": 10\r\n      },\r\n      \"properties\": {\r\n        \"singlePlacementGroup\": true,\r\n        \"upgradePolicy\": {\r\n          \"mode\": \"Manual\"\r\n        },\r\n        \"virtualMachineProfile\": {\r\n          \"osProfile\": {\r\n            \"computerNamePrefix\": \"test\",\r\n            \"adminUsername\": \"azureuser\",\r\n            \"windowsConfiguration\": {\r\n              \"provisionVMAgent\": true,\r\n              \"enableAutomaticUpdates\": true\r\n            },\r\n            \"secrets\": []\r\n          },\r\n          \"storageProfile\": {\r\n            \"osDisk\": {\r\n              \"createOption\": \"FromImage\",\r\n              \"caching\": \"None\",\r\n              \"managedDisk\": {\r\n                \"storageAccountType\": \"Premium_LRS\"\r\n              }\r\n            },\r\n            \"imageReference\": {\r\n              \"publisher\": \"MicrosoftWindowsServer\",\r\n              \"offer\": \"WindowsServer\",\r\n              \"sku\": \"2012-R2-Datacenter\",\r\n              \"version\": \"latest\"\r\n            },\r\n            \"dataDisks\": [\r\n              {\r\n                \"lun\": 0,\r\n                \"createOption\": \"Empty\",\r\n                \"caching\": \"None\",\r\n                \"managedDisk\": {\r\n                  \"storageAccountType\": \"Premium_LRS\"\r\n                },\r\n                \"diskSizeGB\": 32\r\n              }\r\n            ]\r\n          },\r\n          \"networkProfile\": {\"networkInterfaceConfigurations\":[{\"name\":\"test\",\"properties\":{\"primary\":true,\"ipConfigurations\":[{\"name\":\"test\",\"properties\":{\"subnet\":{\"id\":\"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/xplatTstVmssGCreate3280/providers/Microsoft.Network/virtualNetworks/xplattestvnet6811/subnets/xplattestsubnet9872\"}}}]}}]},\r\n          \"extensionProfile\": {\r\n            \"extensions\": [\r\n              {\r\n                \"properties\": {\r\n                  \"publisher\": \"Microsoft.Compute\",\r\n                  \"type\": \"VMAccessAgent\",\r\n                  \"typeHandlerVersion\": \"2.0\",\r\n                  \"autoUpgradeMinorVersion\": true,\r\n                  \"settings\": {}\r\n                },\r\n                \"name\": \"test\"\r\n              },\r\n              {\r\n                \"properties\": {\r\n                  \"publisher\": \"Microsoft.Compute\",\r\n                  \"type\": \"BGInfo\",\r\n                  \"typeHandlerVersion\": \"2.1\",\r\n                  \"autoUpgradeMinorVersion\": true\r\n                },\r\n                \"name\": \"test1\"\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        \"provisioningState\": \"Succeeded\",\r\n        \"overprovision\": false,\r\n        \"uniqueId\": \"153d9884-ae55-4d64-b44b-ae4719e0ae86\"\r\n      },\r\n      \"type\": \"Microsoft.Compute/virtualMachineScaleSets\",\r\n      \"location\": \"southeastasia\",\r\n      \"id\": \"/subscriptions/24fb23e3-6ba3-41f0-9b6e-e41131d5d61e/resourceGroups/xplatTstVmssGCreate3280/providers/Microsoft.Compute/virtualMachineScaleSets/xplattestvmss5\",\r\n      \"name\": \"xplattestvmss5\"\r\n    }\r\n  ]\r\n}", { 'cache-control': 'no-cache',
  pragma: 'no-cache',
  'content-length': '2998',
  'content-type': 'application/json; charset=utf-8',
  expires: '-1',
  'strict-transport-security': 'max-age=31536000; includeSubDomains',
  'x-ms-served-by': 'd8479ab9-b4a1-4ca4-bfe5-eb2106eeb54c_131281312467851412',
  'x-ms-request-id': 'fbc7c688-a919-4ec9-a1d7-9ae42693454c',
  server: 'Microsoft-HTTPAPI/2.0',
  'x-ms-ratelimit-remaining-subscription-reads': '14998',
  'x-ms-correlation-request-id': '67714e82-7f8f-41f9-8264-9d0dc81a8e41',
  'x-ms-routing-request-id': 'CENTRALUS:20170205T224458Z:67714e82-7f8f-41f9-8264-9d0dc81a8e41',
  date: 'Sun, 05 Feb 2017 22:44:57 GMT',
  connection: 'close' });
 return result; }]];